{"ast":null,"code":"import _regeneratorRuntime from\"/media/kevin/Projects/REACT/mophoria/node_modules/@babel/runtime/regenerator\";import _toConsumableArray from\"/media/kevin/Projects/REACT/mophoria/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _asyncToGenerator from\"/media/kevin/Projects/REACT/mophoria/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/media/kevin/Projects/REACT/mophoria/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/media/kevin/Projects/REACT/mophoria/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/media/kevin/Projects/REACT/mophoria/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/media/kevin/Projects/REACT/mophoria/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/media/kevin/Projects/REACT/mophoria/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from\"react\";import axios from\"axios\";import style from\"./movie_tv.module.css\";var PictureContainer=function PictureContainer(props){return React.createElement(\"div\",{className:style[\"picture-container\"]},props.pictures.map(function(p,i){return i<4&&React.createElement(\"div\",{className:style.image,key:i},React.createElement(\"img\",{onClick:function onClick(){props.onImageClick(p.file_path);},src:\"https://image.tmdb.org/t/p/\".concat(props.width,\"/\").concat(p.file_path),alt:\"movie picture\"}));}));};var Picture=/*#__PURE__*/function(_Component){_inherits(Picture,_Component);function Picture(){var _getPrototypeOf2;var _this;_classCallCheck(this,Picture);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(Picture)).call.apply(_getPrototypeOf2,[this].concat(args)));_this.state={backdrops:[],posters:[]};_this.onImageClick=function(imagePath){window.open(window.origin+\"/image\"+imagePath,\"_blank\");};return _this;}_createClass(Picture,[{key:\"componentDidMount\",value:function(){var _componentDidMount=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var _this2=this;var _this$props,isMovie,isPerson,itemID,apiKey,apiURL;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_this$props=this.props,isMovie=_this$props.isMovie,isPerson=_this$props.isPerson,itemID=_this$props.itemID,apiKey=_this$props.apiKey;apiURL=isMovie?\"https://api.themoviedb.org/3/movie/\".concat(itemID,\"/images?api_key=\").concat(apiKey):\"https://api.themoviedb.org/3/tv/\".concat(itemID,\"/images?api_key=\").concat(apiKey);_context.next=4;return axios.get(apiURL).then(function(res){_this2.setState(function(){return{backdrops:_toConsumableArray(res.data.backdrops),posters:_toConsumableArray(res.data.posters)};});}).catch(function(err){return console.log(err);});case 4:this.props.setImages(this.state.posters,this.state.backdrops);case 5:case\"end\":return _context.stop();}}},_callee,this);}));function componentDidMount(){return _componentDidMount.apply(this,arguments);}return componentDidMount;}()},{key:\"render\",value:function render(){return React.createElement(\"div\",{className:style.picture},React.createElement(PictureContainer,{onImageClick:this.onImageClick,pictures:this.state.backdrops,width:\"w780\"}),React.createElement(PictureContainer,{onImageClick:this.onImageClick,pictures:this.state.posters,width:\"w780\"}));}}]);return Picture;}(Component);export default Picture;","map":{"version":3,"sources":["/media/kevin/Projects/REACT/mophoria/src/components/movie_tv_components/Picture.js"],"names":["React","Component","axios","style","PictureContainer","props","pictures","map","p","i","image","onImageClick","file_path","width","Picture","state","backdrops","posters","imagePath","window","open","origin","isMovie","isPerson","itemID","apiKey","apiURL","get","then","res","setState","data","catch","err","console","log","setImages","picture"],"mappings":"28BAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,KAAP,KAAkB,uBAAlB,CAEA,GAAMC,CAAAA,gBAAgB,CAAG,QAAnBA,CAAAA,gBAAmB,CAAAC,KAAK,CAAI,CAChC,MACE,4BAAK,SAAS,CAAEF,KAAK,CAAC,mBAAD,CAArB,EACGE,KAAK,CAACC,QAAN,CAAeC,GAAf,CACC,SAACC,CAAD,CAAIC,CAAJ,QACEA,CAAAA,CAAC,CAAG,CAAJ,EACE,2BAAK,SAAS,CAAEN,KAAK,CAACO,KAAtB,CAA6B,GAAG,CAAED,CAAlC,EACE,2BACE,OAAO,CAAE,kBAAM,CACbJ,KAAK,CAACM,YAAN,CAAmBH,CAAC,CAACI,SAArB,EACD,CAHH,CAIE,GAAG,sCAAgCP,KAAK,CAACQ,KAAtC,aAA+CL,CAAC,CAACI,SAAjD,CAJL,CAKE,GAAG,CAAC,eALN,EADF,CAFJ,EADD,CADH,CADF,CAkBD,CAnBD,C,GAqBME,CAAAA,O,mYACJC,K,CAAQ,CACNC,SAAS,CAAE,EADL,CAENC,OAAO,CAAE,EAFH,C,OA2BRN,Y,CAAe,SAAAO,SAAS,CAAI,CAC1BC,MAAM,CAACC,IAAP,CAAYD,MAAM,CAACE,MAAP,CAAgB,QAAhB,CAA2BH,SAAvC,CAAkD,QAAlD,EACD,C,mXAvB+C,KAAKb,K,CAA3CiB,O,aAAAA,O,CAASC,Q,aAAAA,Q,CAAUC,M,aAAAA,M,CAAQC,M,aAAAA,M,CAE/BC,M,CAASJ,OAAO,8CACsBE,MADtB,4BAC+CC,MAD/C,4CAEmBD,MAFnB,4BAE4CC,MAF5C,C,uBAIdvB,CAAAA,KAAK,CACRyB,GADG,CACCD,MADD,EAEHE,IAFG,CAEE,SAAAC,GAAG,CAAI,CACX,MAAI,CAACC,QAAL,CAAc,UAAM,CAClB,MAAO,CACLd,SAAS,oBAAMa,GAAG,CAACE,IAAJ,CAASf,SAAf,CADJ,CAELC,OAAO,oBAAMY,GAAG,CAACE,IAAJ,CAASd,OAAf,CAFF,CAAP,CAID,CALD,EAMD,CATG,EAUHe,KAVG,CAUG,SAAAC,GAAG,QAAIC,CAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ,CAAJ,EAVN,C,QAYN,KAAK5B,KAAL,CAAW+B,SAAX,CAAqB,KAAKrB,KAAL,CAAWE,OAAhC,CAAyC,KAAKF,KAAL,CAAWC,SAApD,E,+MAOO,CACP,MACE,4BAAK,SAAS,CAAEb,KAAK,CAACkC,OAAtB,EACE,oBAAC,gBAAD,EACE,YAAY,CAAE,KAAK1B,YADrB,CAEE,QAAQ,CAAE,KAAKI,KAAL,CAAWC,SAFvB,CAGE,KAAK,CAAC,MAHR,EADF,CAME,oBAAC,gBAAD,EACE,YAAY,CAAE,KAAKL,YADrB,CAEE,QAAQ,CAAE,KAAKI,KAAL,CAAWE,OAFvB,CAGE,KAAK,CAAC,MAHR,EANF,CADF,CAcD,C,qBA/CmBhB,S,EAkDtB,cAAea,CAAAA,OAAf","sourcesContent":["import React, { Component } from \"react\";\r\nimport axios from \"axios\";\r\nimport style from \"./movie_tv.module.css\";\r\n\r\nconst PictureContainer = props => {\r\n  return (\r\n    <div className={style[\"picture-container\"]}>\r\n      {props.pictures.map(\r\n        (p, i) =>\r\n          i < 4 && (\r\n            <div className={style.image} key={i}>\r\n              <img\r\n                onClick={() => {\r\n                  props.onImageClick(p.file_path);\r\n                }}\r\n                src={`https://image.tmdb.org/t/p/${props.width}/${p.file_path}`}\r\n                alt=\"movie picture\"\r\n              />\r\n            </div>\r\n          )\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nclass Picture extends Component {\r\n  state = {\r\n    backdrops: [],\r\n    posters: []\r\n  };\r\n\r\n  async componentDidMount() {\r\n    const { isMovie, isPerson, itemID, apiKey } = this.props;\r\n\r\n    let apiURL = isMovie\r\n      ? `https://api.themoviedb.org/3/movie/${itemID}/images?api_key=${apiKey}`\r\n      : `https://api.themoviedb.org/3/tv/${itemID}/images?api_key=${apiKey}`;\r\n\r\n    await axios\r\n      .get(apiURL)\r\n      .then(res => {\r\n        this.setState(() => {\r\n          return {\r\n            backdrops: [...res.data.backdrops],\r\n            posters: [...res.data.posters]\r\n          };\r\n        });\r\n      })\r\n      .catch(err => console.log(err));\r\n\r\n    this.props.setImages(this.state.posters, this.state.backdrops);\r\n  }\r\n\r\n  onImageClick = imagePath => {\r\n    window.open(window.origin + \"/image\" + imagePath, \"_blank\");\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div className={style.picture}>\r\n        <PictureContainer\r\n          onImageClick={this.onImageClick}\r\n          pictures={this.state.backdrops}\r\n          width=\"w780\"\r\n        />\r\n        <PictureContainer\r\n          onImageClick={this.onImageClick}\r\n          pictures={this.state.posters}\r\n          width=\"w780\"\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Picture;\r\n"]},"metadata":{},"sourceType":"module"}