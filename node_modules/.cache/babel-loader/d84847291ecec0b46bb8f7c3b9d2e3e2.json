{"ast":null,"code":"import _toConsumableArray from\"/media/kevin/Projects/REACT/mophoria/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _regeneratorRuntime from\"/media/kevin/Projects/REACT/mophoria/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/media/kevin/Projects/REACT/mophoria/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/media/kevin/Projects/REACT/mophoria/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/media/kevin/Projects/REACT/mophoria/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/media/kevin/Projects/REACT/mophoria/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/media/kevin/Projects/REACT/mophoria/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/media/kevin/Projects/REACT/mophoria/node_modules/@babel/runtime/helpers/esm/inherits\";import React from\"react\";import style from\"./person.module.css\";import axios from\"axios\";import FacebookIcon from\"@material-ui/icons/Facebook\";import InstagramIcon from\"@material-ui/icons/Instagram\";import TwitterIcon from\"@material-ui/icons/Twitter\";import KeyboardArrowDownIcon from\"@material-ui/icons/KeyboardArrowDown\";import Title from\"../../globalComponents/Title\";import People from\"../home/People\";import Copyright from\"../../globalComponents/Copyright\";//Biography Component\nvar Biography=React.forwardRef(function(props,ref){var details=props.details,onClickArrowDown=props.onClickArrowDown;return React.createElement(React.Fragment,null,React.createElement(\"div\",{ref:ref.biography,className:style.biography},React.createElement(\"div\",{className:style[\"person-image\"]},React.createElement(\"img\",{ref:ref.image,src:\"https://image.tmdb.org/t/p/original/\".concat(details.profile_path),alt:\"person image\"})),React.createElement(\"div\",{className:style[\"biography-details\"]},React.createElement(\"span\",{className:style[\"person-name\"]},details.name),React.createElement(\"div\",{className:style[\"social-icons\"]},React.createElement(FacebookIcon,{style:{color:\"#4267B2\",marginRight:\"0.2em\"},className:style[\"social-icon\"]}),React.createElement(InstagramIcon,{style:{color:\"#A136B5\",marginRight:\"0.2em\"},className:style[\"social-icon\"]}),React.createElement(TwitterIcon,{style:{color:\"#2CAAE1\"},className:style[\"social-icon\"]})),React.createElement(\"span\",{className:style[\"biography-title\"]},\"Biography\"),React.createElement(\"span\",{className:style[\"biography-text\"]},details.biography))),React.createElement(\"div\",{ref:ref.arrowDown,className:style[\"biography-arrow-container\"]},React.createElement(KeyboardArrowDownIcon,{className:style[\"biography-arrow-down\"],fontSize:\"large\",onClick:onClickArrowDown})));});//Personal Details Component\nvar PersonalDetails=function PersonalDetails(props){var details=props.details;var loopNames=function loopNames(names){var finalNames=\"\";for(var i=0;i<names.length;i++){finalNames+=names[i];if(i<names.length-1)finalNames+=\" | \";}return finalNames;};return React.createElement(\"div\",{className:style[\"personal-details\"]},React.createElement(\"div\",null,\"Birthday: \",React.createElement(\"span\",null,details.birthday)),React.createElement(\"div\",null,\"Birth Place: \",React.createElement(\"span\",null,details.place_of_birth)),React.createElement(\"div\",null,\"Known for: \",React.createElement(\"span\",null,details.known_for_department)),React.createElement(\"div\",null,\"Alternate Names:\",\" \",React.createElement(\"span\",null,details.also_known_as&&loopNames(details.also_known_as))),React.createElement(\"div\",null,\"Homepage:\",\" \",React.createElement(\"span\",null,details.homepage!==null?details.homepage:\"N/A\")));};// Filmography Component\nvar Filmography=function Filmography(props){return React.createElement(\"div\",{className:style.filmography},props.cast&&props.cast.map(function(c){return React.createElement(\"div\",{className:style.project,onClick:function onClick(){window.open(window.origin+\"/movie/\"+c.id,\"_self\");}},React.createElement(\"span\",{className:style[\"project-title\"]},c.title),React.createElement(\"span\",{className:style[\"project-date\"]},c.release_date),React.createElement(\"span\",{className:style[\"project-person-role\"]},c.character));}));};// Pictures Component\nvar Pictures=function Pictures(props){var pictures=props.pictures,onClickPicture=props.onClickPicture;return React.createElement(\"div\",{className:style.pictures},pictures&&pictures.map(function(p,i){return i<14&&React.createElement(\"img\",{src:\"https://image.tmdb.org/t/p/w185/\".concat(p.file_path),alt:\"person image\",onClick:function onClick(){onClickPicture(p.file_path);}});}));};var Person=/*#__PURE__*/function(_React$Component){_inherits(Person,_React$Component);function Person(){var _getPrototypeOf2;var _this;_classCallCheck(this,Person);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(Person)).call.apply(_getPrototypeOf2,[this].concat(args)));_this.personID=function(){var personID=_this.props.match.params.personID;return personID;};_this.state={apiKey:\"325d84ad33eb95a5c0fc5427ba3f569a\",personID:_this.personID(),personDetails:{},filmography:[],pictures:[],isBiographyOverflow:false};_this.isOverflow=false;_this.onClickArrowDown=function(){if(_this.isOverflow){_this.biography.current.style.maxHeight=\"none\";_this.arrowDown.current.style.transform=\"rotate(180deg)\";_this.arrowDown.current.style.transition=\"transform 150ms\";_this.isOverflow=false;}else{_this.biography.current.style.maxHeight=window.innerWidth>800?\"\".concat(_this.biographyImage.current.clientHeight,\"px\"):\"\".concat(_this.biographyImage.current.clientHeight+400,\"px\");_this.arrowDown.current.style.transform=\"rotate(0deg)\";_this.arrowDown.current.style.transition=\"transform 150ms\";_this.isOverflow=true;}};_this.manipulateDOM=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var imageHeight,biographyHeight;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0://biography\nimageHeight=_this.biographyImage.current.clientHeight;biographyHeight=_this.biography.current.clientHeight;// overflow hidden if condition is true\nif(biographyHeight>imageHeight+10){_this.biography.current.style.maxHeight=window.innerWidth>800?\"\".concat(imageHeight,\"px\"):\"\".concat(imageHeight+400,\"px\");_this.biography.current.style.overflow=\"hidden\";_this.isOverflow=true;}if(_this.isOverflow)_this.arrowDown.current.style.visibility=\"visible\";else _this.arrowDown.current.style.visibility=\"hidden\";case 4:case\"end\":return _context.stop();}}},_callee);}));_this.onClickPicture=function(imagePath){window.open(window.origin+\"/image\"+imagePath,\"_blank\");};return _this;}_createClass(Person,[{key:\"componentDidMount\",value:function(){var _componentDidMount=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var _this2=this;var _this$state,apiKey,personID;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_this$state=this.state,apiKey=_this$state.apiKey,personID=_this$state.personID;this.biography=React.createRef();this.biographyImage=React.createRef();this.arrowDown=React.createRef();//details\n_context2.next=6;return axios.get(\"https://api.themoviedb.org/3/person/\".concat(personID,\"?api_key=\").concat(apiKey,\"&language=en-US\")).then(function(res){_this2.setState(function(){return{personDetails:res.data};});}).catch(function(err){return console.log(err);});case 6:_context2.next=8;return axios.get(\"https://api.themoviedb.org/3/person/\".concat(personID,\"/movie_credits?api_key=\").concat(apiKey,\"&language=en-US\")).then(function(res){_this2.setState(function(){return{filmography:res.data};});}).catch(function(err){return console.log(err);});case 8:_context2.next=10;return axios.get(\"https://api.themoviedb.org/3/person/\".concat(personID,\"/images?api_key=\").concat(apiKey)).then(function(res){_this2.setState(function(){return{pictures:_toConsumableArray(res.data.profiles)};});}).catch(function(err){return console.log(err);});case 10:this.manipulateDOM();case 11:case\"end\":return _context2.stop();}}},_callee2,this);}));function componentDidMount(){return _componentDidMount.apply(this,arguments);}return componentDidMount;}()},{key:\"render\",value:function render(){return React.createElement(\"div\",{className:style.person},React.createElement(Biography,{ref:{biography:this.biography,image:this.biographyImage,arrowDown:this.arrowDown},details:this.state.personDetails,onClickArrowDown:this.onClickArrowDown}),React.createElement(Title,{titleName:\"Personal details\"}),React.createElement(PersonalDetails,{details:this.state.personDetails}),React.createElement(Title,{titleName:\"Filmography\"}),React.createElement(Filmography,{cast:this.state.filmography.cast}),React.createElement(Title,{titleName:\"Pictures\",more:false}),React.createElement(Pictures,{pictures:this.state.pictures,onClickPicture:this.onClickPicture}),React.createElement(Title,{titleName:\"Trending People\"}),React.createElement(People,{apiKey:this.state.apiKey}),React.createElement(Copyright,null));}}]);return Person;}(React.Component);export default Person;","map":{"version":3,"sources":["/media/kevin/Projects/REACT/mophoria/src/components/pages/person/Person.js"],"names":["React","style","axios","FacebookIcon","InstagramIcon","TwitterIcon","KeyboardArrowDownIcon","Title","People","Copyright","Biography","forwardRef","props","ref","details","onClickArrowDown","biography","image","profile_path","name","color","marginRight","arrowDown","PersonalDetails","loopNames","names","finalNames","i","length","birthday","place_of_birth","known_for_department","also_known_as","homepage","Filmography","filmography","cast","map","c","project","window","open","origin","id","title","release_date","character","Pictures","pictures","onClickPicture","p","file_path","Person","personID","match","params","state","apiKey","personDetails","isBiographyOverflow","isOverflow","current","maxHeight","transform","transition","innerWidth","biographyImage","clientHeight","manipulateDOM","imageHeight","biographyHeight","overflow","visibility","imagePath","createRef","get","then","res","setState","data","catch","err","console","log","profiles","person","Component"],"mappings":"28BAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,KAAP,KAAkB,qBAAlB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,YAAP,KAAyB,6BAAzB,CACA,MAAOC,CAAAA,aAAP,KAA0B,8BAA1B,CACA,MAAOC,CAAAA,WAAP,KAAwB,4BAAxB,CACA,MAAOC,CAAAA,qBAAP,KAAkC,sCAAlC,CACA,MAAOC,CAAAA,KAAP,KAAkB,8BAAlB,CACA,MAAOC,CAAAA,MAAP,KAAmB,gBAAnB,CACA,MAAOC,CAAAA,SAAP,KAAsB,kCAAtB,CAEA;AACA,GAAMC,CAAAA,SAAS,CAAGV,KAAK,CAACW,UAAN,CAAiB,SAACC,KAAD,CAAQC,GAAR,CAAgB,IACzCC,CAAAA,OADyC,CACXF,KADW,CACzCE,OADyC,CAChCC,gBADgC,CACXH,KADW,CAChCG,gBADgC,CAEjD,MACE,yCACE,2BAAK,GAAG,CAAEF,GAAG,CAACG,SAAd,CAAyB,SAAS,CAAEf,KAAK,CAACe,SAA1C,EACE,2BAAK,SAAS,CAAEf,KAAK,CAAC,cAAD,CAArB,EACE,2BACE,GAAG,CAAEY,GAAG,CAACI,KADX,CAEE,GAAG,+CAAyCH,OAAO,CAACI,YAAjD,CAFL,CAGE,GAAG,CAAC,cAHN,EADF,CADF,CAQE,2BAAK,SAAS,CAAEjB,KAAK,CAAC,mBAAD,CAArB,EACE,4BAAM,SAAS,CAAEA,KAAK,CAAC,aAAD,CAAtB,EAAwCa,OAAO,CAACK,IAAhD,CADF,CAEE,2BAAK,SAAS,CAAElB,KAAK,CAAC,cAAD,CAArB,EACE,oBAAC,YAAD,EACE,KAAK,CAAE,CAAEmB,KAAK,CAAE,SAAT,CAAoBC,WAAW,CAAE,OAAjC,CADT,CAEE,SAAS,CAAEpB,KAAK,CAAC,aAAD,CAFlB,EADF,CAKE,oBAAC,aAAD,EACE,KAAK,CAAE,CAAEmB,KAAK,CAAE,SAAT,CAAoBC,WAAW,CAAE,OAAjC,CADT,CAEE,SAAS,CAAEpB,KAAK,CAAC,aAAD,CAFlB,EALF,CASE,oBAAC,WAAD,EACE,KAAK,CAAE,CAAEmB,KAAK,CAAE,SAAT,CADT,CAEE,SAAS,CAAEnB,KAAK,CAAC,aAAD,CAFlB,EATF,CAFF,CAgBE,4BAAM,SAAS,CAAEA,KAAK,CAAC,iBAAD,CAAtB,cAhBF,CAiBE,4BAAM,SAAS,CAAEA,KAAK,CAAC,gBAAD,CAAtB,EAA2Ca,OAAO,CAACE,SAAnD,CAjBF,CARF,CADF,CA6BE,2BAAK,GAAG,CAAEH,GAAG,CAACS,SAAd,CAAyB,SAAS,CAAErB,KAAK,CAAC,2BAAD,CAAzC,EACE,oBAAC,qBAAD,EACE,SAAS,CAAEA,KAAK,CAAC,sBAAD,CADlB,CAEE,QAAQ,CAAC,OAFX,CAGE,OAAO,CAAEc,gBAHX,EADF,CA7BF,CADF,CAuCD,CAzCiB,CAAlB,CA2CA;AACA,GAAMQ,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAAAX,KAAK,CAAI,IACvBE,CAAAA,OADuB,CACXF,KADW,CACvBE,OADuB,CAE/B,GAAMU,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,CAAAC,KAAK,CAAI,CACzB,GAAIC,CAAAA,UAAU,CAAG,EAAjB,CACA,IAAK,GAAIC,CAAAA,CAAC,CAAG,CAAb,CAAgBA,CAAC,CAAGF,KAAK,CAACG,MAA1B,CAAkCD,CAAC,EAAnC,CAAuC,CACrCD,UAAU,EAAID,KAAK,CAACE,CAAD,CAAnB,CACA,GAAIA,CAAC,CAAGF,KAAK,CAACG,MAAN,CAAe,CAAvB,CAA0BF,UAAU,EAAI,KAAd,CAC3B,CACD,MAAOA,CAAAA,UAAP,CACD,CAPD,CASA,MACE,4BAAK,SAAS,CAAEzB,KAAK,CAAC,kBAAD,CAArB,EACE,4CACY,gCAAOa,OAAO,CAACe,QAAf,CADZ,CADF,CAIE,+CACe,gCAAOf,OAAO,CAACgB,cAAf,CADf,CAJF,CAOE,6CACa,gCAAOhB,OAAO,CAACiB,oBAAf,CADb,CAPF,CAUE,kDACmB,GADnB,CAGI,gCACGjB,OAAO,CAACkB,aAAR,EAAyBR,SAAS,CAACV,OAAO,CAACkB,aAAT,CADrC,CAHJ,CAVF,CAkBE,2CACY,GADZ,CAEE,gCAAOlB,OAAO,CAACmB,QAAR,GAAqB,IAArB,CAA4BnB,OAAO,CAACmB,QAApC,CAA+C,KAAtD,CAFF,CAlBF,CADF,CAyBD,CApCD,CAsCA;AACA,GAAMC,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,CAAAtB,KAAK,CAAI,CAC3B,MACE,4BAAK,SAAS,CAAEX,KAAK,CAACkC,WAAtB,EACGvB,KAAK,CAACwB,IAAN,EACCxB,KAAK,CAACwB,IAAN,CAAWC,GAAX,CAAe,SAAAC,CAAC,QACd,4BACE,SAAS,CAAErC,KAAK,CAACsC,OADnB,CAEE,OAAO,CAAE,kBAAM,CACbC,MAAM,CAACC,IAAP,CAAYD,MAAM,CAACE,MAAP,CAAgB,SAAhB,CAA4BJ,CAAC,CAACK,EAA1C,CAA8C,OAA9C,EACD,CAJH,EAME,4BAAM,SAAS,CAAE1C,KAAK,CAAC,eAAD,CAAtB,EAA0CqC,CAAC,CAACM,KAA5C,CANF,CAOE,4BAAM,SAAS,CAAE3C,KAAK,CAAC,cAAD,CAAtB,EAAyCqC,CAAC,CAACO,YAA3C,CAPF,CAQE,4BAAM,SAAS,CAAE5C,KAAK,CAAC,qBAAD,CAAtB,EAAgDqC,CAAC,CAACQ,SAAlD,CARF,CADc,EAAhB,CAFJ,CADF,CAiBD,CAlBD,CAoBA;AACA,GAAMC,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,CAAAnC,KAAK,CAAI,IAChBoC,CAAAA,QADgB,CACapC,KADb,CAChBoC,QADgB,CACNC,cADM,CACarC,KADb,CACNqC,cADM,CAExB,MACE,4BAAK,SAAS,CAAEhD,KAAK,CAAC+C,QAAtB,EACGA,QAAQ,EACPA,QAAQ,CAACX,GAAT,CACE,SAACa,CAAD,CAAIvB,CAAJ,QACEA,CAAAA,CAAC,CAAG,EAAJ,EACE,2BACE,GAAG,2CAAqCuB,CAAC,CAACC,SAAvC,CADL,CAEE,GAAG,CAAC,cAFN,CAGE,OAAO,CAAE,kBAAM,CACbF,cAAc,CAACC,CAAC,CAACC,SAAH,CAAd,CACD,CALH,EAFJ,EADF,CAFJ,CADF,CAiBD,CAnBD,C,GAqBMC,CAAAA,M,2YACJC,Q,CAAW,UAAM,IACPA,CAAAA,QADO,CACM,MAAKzC,KAAL,CAAW0C,KAAX,CAAiBC,MADvB,CACPF,QADO,CAEf,MAAOA,CAAAA,QAAP,CACD,C,OAEDG,K,CAAQ,CACNC,MAAM,CAAE,kCADF,CAENJ,QAAQ,CAAE,MAAKA,QAAL,EAFJ,CAGNK,aAAa,CAAE,EAHT,CAINvB,WAAW,CAAE,EAJP,CAKNa,QAAQ,CAAE,EALJ,CAMNW,mBAAmB,CAAE,KANf,C,OASRC,U,CAAa,K,OACb7C,gB,CAAmB,UAAM,CACvB,GAAI,MAAK6C,UAAT,CAAqB,CACnB,MAAK5C,SAAL,CAAe6C,OAAf,CAAuB5D,KAAvB,CAA6B6D,SAA7B,CAAyC,MAAzC,CACA,MAAKxC,SAAL,CAAeuC,OAAf,CAAuB5D,KAAvB,CAA6B8D,SAA7B,CAAyC,gBAAzC,CACA,MAAKzC,SAAL,CAAeuC,OAAf,CAAuB5D,KAAvB,CAA6B+D,UAA7B,CAA0C,iBAA1C,CACA,MAAKJ,UAAL,CAAkB,KAAlB,CACD,CALD,IAKO,CACL,MAAK5C,SAAL,CAAe6C,OAAf,CAAuB5D,KAAvB,CAA6B6D,SAA7B,CACEtB,MAAM,CAACyB,UAAP,CAAoB,GAApB,WACO,MAAKC,cAAL,CAAoBL,OAApB,CAA4BM,YADnC,iBAEO,MAAKD,cAAL,CAAoBL,OAApB,CAA4BM,YAA5B,CAA2C,GAFlD,MADF,CAIA,MAAK7C,SAAL,CAAeuC,OAAf,CAAuB5D,KAAvB,CAA6B8D,SAA7B,CAAyC,cAAzC,CACA,MAAKzC,SAAL,CAAeuC,OAAf,CAAuB5D,KAAvB,CAA6B+D,UAA7B,CAA0C,iBAA1C,CACA,MAAKJ,UAAL,CAAkB,IAAlB,CACD,CACF,C,OAEDQ,a,sEAAgB,mKACd;AACIC,WAFU,CAEI,MAAKH,cAAL,CAAoBL,OAApB,CAA4BM,YAFhC,CAGVG,eAHU,CAGQ,MAAKtD,SAAL,CAAe6C,OAAf,CAAuBM,YAH/B,CAKd;AACA,GAAIG,eAAe,CAAGD,WAAW,CAAG,EAApC,CAAwC,CACtC,MAAKrD,SAAL,CAAe6C,OAAf,CAAuB5D,KAAvB,CAA6B6D,SAA7B,CACEtB,MAAM,CAACyB,UAAP,CAAoB,GAApB,WAA6BI,WAA7B,iBAAkDA,WAAW,CAAG,GAAhE,MADF,CAEA,MAAKrD,SAAL,CAAe6C,OAAf,CAAuB5D,KAAvB,CAA6BsE,QAA7B,CAAwC,QAAxC,CACA,MAAKX,UAAL,CAAkB,IAAlB,CACD,CAED,GAAI,MAAKA,UAAT,CAAqB,MAAKtC,SAAL,CAAeuC,OAAf,CAAuB5D,KAAvB,CAA6BuE,UAA7B,CAA0C,SAA1C,CAArB,IACK,OAAKlD,SAAL,CAAeuC,OAAf,CAAuB5D,KAAvB,CAA6BuE,UAA7B,CAA0C,QAA1C,CAdS,sD,SAoEhBvB,c,CAAiB,SAAAwB,SAAS,CAAI,CAC5BjC,MAAM,CAACC,IAAP,CAAYD,MAAM,CAACE,MAAP,CAAgB,QAAhB,CAA2B+B,SAAvC,CAAkD,QAAlD,EACD,C,iWApD8B,KAAKjB,K,CAA1BC,M,aAAAA,M,CAAQJ,Q,aAAAA,Q,CAChB,KAAKrC,SAAL,CAAiBhB,KAAK,CAAC0E,SAAN,EAAjB,CACA,KAAKR,cAAL,CAAsBlE,KAAK,CAAC0E,SAAN,EAAtB,CACA,KAAKpD,SAAL,CAAiBtB,KAAK,CAAC0E,SAAN,EAAjB,CAEA;uBACMxE,CAAAA,KAAK,CACRyE,GADG,+CAEqCtB,QAFrC,qBAEyDI,MAFzD,qBAIHmB,IAJG,CAIE,SAAAC,GAAG,CAAI,CACX,MAAI,CAACC,QAAL,CAAc,UAAM,CAClB,MAAO,CACLpB,aAAa,CAAEmB,GAAG,CAACE,IADd,CAAP,CAGD,CAJD,EAKD,CAVG,EAWHC,KAXG,CAWG,SAAAC,GAAG,QAAIC,CAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ,CAAJ,EAXN,C,+BAcA/E,CAAAA,KAAK,CACRyE,GADG,+CAEqCtB,QAFrC,mCAEuEI,MAFvE,qBAIHmB,IAJG,CAIE,SAAAC,GAAG,CAAI,CACX,MAAI,CAACC,QAAL,CAAc,UAAM,CAClB,MAAO,CACL3C,WAAW,CAAE0C,GAAG,CAACE,IADZ,CAAP,CAGD,CAJD,EAKD,CAVG,EAWHC,KAXG,CAWG,SAAAC,GAAG,QAAIC,CAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ,CAAJ,EAXN,C,gCAcA/E,CAAAA,KAAK,CACRyE,GADG,+CAEqCtB,QAFrC,4BAEgEI,MAFhE,GAIHmB,IAJG,CAIE,SAAAC,GAAG,CAAI,CACX,MAAI,CAACC,QAAL,CAAc,UAAM,CAClB,MAAO,CACL9B,QAAQ,oBAAM6B,GAAG,CAACE,IAAJ,CAASK,QAAf,CADH,CAAP,CAGD,CAJD,EAKD,CAVG,EAWHJ,KAXG,CAWG,SAAAC,GAAG,QAAIC,CAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ,CAAJ,EAXN,C,SAaN,KAAKb,aAAL,G,kNAOO,CACP,MACE,4BAAK,SAAS,CAAEnE,KAAK,CAACoF,MAAtB,EACE,oBAAC,SAAD,EACE,GAAG,CAAE,CACHrE,SAAS,CAAE,KAAKA,SADb,CAEHC,KAAK,CAAE,KAAKiD,cAFT,CAGH5C,SAAS,CAAE,KAAKA,SAHb,CADP,CAME,OAAO,CAAE,KAAKkC,KAAL,CAAWE,aANtB,CAOE,gBAAgB,CAAE,KAAK3C,gBAPzB,EADF,CAUE,oBAAC,KAAD,EAAO,SAAS,CAAC,kBAAjB,EAVF,CAWE,oBAAC,eAAD,EAAiB,OAAO,CAAE,KAAKyC,KAAL,CAAWE,aAArC,EAXF,CAYE,oBAAC,KAAD,EAAO,SAAS,CAAC,aAAjB,EAZF,CAaE,oBAAC,WAAD,EAAa,IAAI,CAAE,KAAKF,KAAL,CAAWrB,WAAX,CAAuBC,IAA1C,EAbF,CAcE,oBAAC,KAAD,EAAO,SAAS,CAAC,UAAjB,CAA4B,IAAI,CAAE,KAAlC,EAdF,CAeE,oBAAC,QAAD,EACE,QAAQ,CAAE,KAAKoB,KAAL,CAAWR,QADvB,CAEE,cAAc,CAAE,KAAKC,cAFvB,EAfF,CAmBE,oBAAC,KAAD,EAAO,SAAS,CAAC,iBAAjB,EAnBF,CAoBE,oBAAC,MAAD,EAAQ,MAAM,CAAE,KAAKO,KAAL,CAAWC,MAA3B,EApBF,CAqBE,oBAAC,SAAD,MArBF,CADF,CAyBD,C,oBAnIkBzD,KAAK,CAACsF,S,EAsI3B,cAAelC,CAAAA,MAAf","sourcesContent":["import React from \"react\";\r\nimport style from \"./person.module.css\";\r\nimport axios from \"axios\";\r\nimport FacebookIcon from \"@material-ui/icons/Facebook\";\r\nimport InstagramIcon from \"@material-ui/icons/Instagram\";\r\nimport TwitterIcon from \"@material-ui/icons/Twitter\";\r\nimport KeyboardArrowDownIcon from \"@material-ui/icons/KeyboardArrowDown\";\r\nimport Title from \"../../globalComponents/Title\";\r\nimport People from \"../home/People\";\r\nimport Copyright from \"../../globalComponents/Copyright\";\r\n\r\n//Biography Component\r\nconst Biography = React.forwardRef((props, ref) => {\r\n  const { details, onClickArrowDown } = props;\r\n  return (\r\n    <>\r\n      <div ref={ref.biography} className={style.biography}>\r\n        <div className={style[\"person-image\"]}>\r\n          <img\r\n            ref={ref.image}\r\n            src={`https://image.tmdb.org/t/p/original/${details.profile_path}`}\r\n            alt=\"person image\"\r\n          />\r\n        </div>\r\n        <div className={style[\"biography-details\"]}>\r\n          <span className={style[\"person-name\"]}>{details.name}</span>\r\n          <div className={style[\"social-icons\"]}>\r\n            <FacebookIcon\r\n              style={{ color: \"#4267B2\", marginRight: \"0.2em\" }}\r\n              className={style[\"social-icon\"]}\r\n            />\r\n            <InstagramIcon\r\n              style={{ color: \"#A136B5\", marginRight: \"0.2em\" }}\r\n              className={style[\"social-icon\"]}\r\n            />\r\n            <TwitterIcon\r\n              style={{ color: \"#2CAAE1\" }}\r\n              className={style[\"social-icon\"]}\r\n            />\r\n          </div>\r\n          <span className={style[\"biography-title\"]}>Biography</span>\r\n          <span className={style[\"biography-text\"]}>{details.biography}</span>\r\n        </div>\r\n      </div>\r\n      <div ref={ref.arrowDown} className={style[\"biography-arrow-container\"]}>\r\n        <KeyboardArrowDownIcon\r\n          className={style[\"biography-arrow-down\"]}\r\n          fontSize=\"large\"\r\n          onClick={onClickArrowDown}\r\n        />\r\n      </div>\r\n    </>\r\n  );\r\n});\r\n\r\n//Personal Details Component\r\nconst PersonalDetails = props => {\r\n  const { details } = props;\r\n  const loopNames = names => {\r\n    let finalNames = \"\";\r\n    for (let i = 0; i < names.length; i++) {\r\n      finalNames += names[i];\r\n      if (i < names.length - 1) finalNames += \" | \";\r\n    }\r\n    return finalNames;\r\n  };\r\n\r\n  return (\r\n    <div className={style[\"personal-details\"]}>\r\n      <div>\r\n        Birthday: <span>{details.birthday}</span>\r\n      </div>\r\n      <div>\r\n        Birth Place: <span>{details.place_of_birth}</span>\r\n      </div>\r\n      <div>\r\n        Known for: <span>{details.known_for_department}</span>\r\n      </div>\r\n      <div>\r\n        Alternate Names:{\" \"}\r\n        {\r\n          <span>\r\n            {details.also_known_as && loopNames(details.also_known_as)}\r\n          </span>\r\n        }\r\n      </div>\r\n      <div>\r\n        Homepage:{\" \"}\r\n        <span>{details.homepage !== null ? details.homepage : \"N/A\"}</span>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\n// Filmography Component\r\nconst Filmography = props => {\r\n  return (\r\n    <div className={style.filmography}>\r\n      {props.cast &&\r\n        props.cast.map(c => (\r\n          <div\r\n            className={style.project}\r\n            onClick={() => {\r\n              window.open(window.origin + \"/movie/\" + c.id, \"_self\");\r\n            }}\r\n          >\r\n            <span className={style[\"project-title\"]}>{c.title}</span>\r\n            <span className={style[\"project-date\"]}>{c.release_date}</span>\r\n            <span className={style[\"project-person-role\"]}>{c.character}</span>\r\n          </div>\r\n        ))}\r\n    </div>\r\n  );\r\n};\r\n\r\n// Pictures Component\r\nconst Pictures = props => {\r\n  const { pictures, onClickPicture } = props;\r\n  return (\r\n    <div className={style.pictures}>\r\n      {pictures &&\r\n        pictures.map(\r\n          (p, i) =>\r\n            i < 14 && (\r\n              <img\r\n                src={`https://image.tmdb.org/t/p/w185/${p.file_path}`}\r\n                alt=\"person image\"\r\n                onClick={() => {\r\n                  onClickPicture(p.file_path);\r\n                }}\r\n              />\r\n            )\r\n        )}\r\n    </div>\r\n  );\r\n};\r\n\r\nclass Person extends React.Component {\r\n  personID = () => {\r\n    const { personID } = this.props.match.params;\r\n    return personID;\r\n  };\r\n\r\n  state = {\r\n    apiKey: \"325d84ad33eb95a5c0fc5427ba3f569a\",\r\n    personID: this.personID(),\r\n    personDetails: {},\r\n    filmography: [],\r\n    pictures: [],\r\n    isBiographyOverflow: false\r\n  };\r\n\r\n  isOverflow = false;\r\n  onClickArrowDown = () => {\r\n    if (this.isOverflow) {\r\n      this.biography.current.style.maxHeight = \"none\";\r\n      this.arrowDown.current.style.transform = \"rotate(180deg)\";\r\n      this.arrowDown.current.style.transition = \"transform 150ms\";\r\n      this.isOverflow = false;\r\n    } else {\r\n      this.biography.current.style.maxHeight =\r\n        window.innerWidth > 800\r\n          ? `${this.biographyImage.current.clientHeight}px`\r\n          : `${this.biographyImage.current.clientHeight + 400}px`;\r\n      this.arrowDown.current.style.transform = \"rotate(0deg)\";\r\n      this.arrowDown.current.style.transition = \"transform 150ms\";\r\n      this.isOverflow = true;\r\n    }\r\n  };\r\n\r\n  manipulateDOM = async () => {\r\n    //biography\r\n    let imageHeight = this.biographyImage.current.clientHeight;\r\n    let biographyHeight = this.biography.current.clientHeight;\r\n\r\n    // overflow hidden if condition is true\r\n    if (biographyHeight > imageHeight + 10) {\r\n      this.biography.current.style.maxHeight =\r\n        window.innerWidth > 800 ? `${imageHeight}px` : `${imageHeight + 400}px`;\r\n      this.biography.current.style.overflow = \"hidden\";\r\n      this.isOverflow = true;\r\n    }\r\n\r\n    if (this.isOverflow) this.arrowDown.current.style.visibility = \"visible\";\r\n    else this.arrowDown.current.style.visibility = \"hidden\";\r\n  };\r\n\r\n  async componentDidMount() {\r\n    const { apiKey, personID } = this.state;\r\n    this.biography = React.createRef();\r\n    this.biographyImage = React.createRef();\r\n    this.arrowDown = React.createRef();\r\n\r\n    //details\r\n    await axios\r\n      .get(\r\n        `https://api.themoviedb.org/3/person/${personID}?api_key=${apiKey}&language=en-US`\r\n      )\r\n      .then(res => {\r\n        this.setState(() => {\r\n          return {\r\n            personDetails: res.data\r\n          };\r\n        });\r\n      })\r\n      .catch(err => console.log(err));\r\n\r\n    //movie credits\r\n    await axios\r\n      .get(\r\n        `https://api.themoviedb.org/3/person/${personID}/movie_credits?api_key=${apiKey}&language=en-US`\r\n      )\r\n      .then(res => {\r\n        this.setState(() => {\r\n          return {\r\n            filmography: res.data\r\n          };\r\n        });\r\n      })\r\n      .catch(err => console.log(err));\r\n\r\n    //pictures\r\n    await axios\r\n      .get(\r\n        `https://api.themoviedb.org/3/person/${personID}/images?api_key=${apiKey}`\r\n      )\r\n      .then(res => {\r\n        this.setState(() => {\r\n          return {\r\n            pictures: [...res.data.profiles]\r\n          };\r\n        });\r\n      })\r\n      .catch(err => console.log(err));\r\n\r\n    this.manipulateDOM();\r\n  }\r\n\r\n  onClickPicture = imagePath => {\r\n    window.open(window.origin + \"/image\" + imagePath, \"_blank\");\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div className={style.person}>\r\n        <Biography\r\n          ref={{\r\n            biography: this.biography,\r\n            image: this.biographyImage,\r\n            arrowDown: this.arrowDown\r\n          }}\r\n          details={this.state.personDetails}\r\n          onClickArrowDown={this.onClickArrowDown}\r\n        />\r\n        <Title titleName=\"Personal details\" />\r\n        <PersonalDetails details={this.state.personDetails} />\r\n        <Title titleName=\"Filmography\" />\r\n        <Filmography cast={this.state.filmography.cast} />\r\n        <Title titleName=\"Pictures\" more={false} />\r\n        <Pictures\r\n          pictures={this.state.pictures}\r\n          onClickPicture={this.onClickPicture}\r\n        />\r\n        <Title titleName=\"Trending People\" />\r\n        <People apiKey={this.state.apiKey} />\r\n        <Copyright />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Person;\r\n"]},"metadata":{},"sourceType":"module"}