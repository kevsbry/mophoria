{"ast":null,"code":"import _regeneratorRuntime from\"/media/kevin/Projects/REACT/mophoria/node_modules/@babel/runtime/regenerator\";import _toConsumableArray from\"/media/kevin/Projects/REACT/mophoria/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _asyncToGenerator from\"/media/kevin/Projects/REACT/mophoria/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/media/kevin/Projects/REACT/mophoria/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/media/kevin/Projects/REACT/mophoria/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/media/kevin/Projects/REACT/mophoria/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/media/kevin/Projects/REACT/mophoria/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/media/kevin/Projects/REACT/mophoria/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from\"react\";import style from\"./people.module.css\";import axios from\"axios\";import{Link}from\"react-router-dom\";import Title from\"../../globalComponents/Title\";import Copyright from\"../../globalComponents/Copyright\";import NavigateNextIcon from\"@material-ui/icons/NavigateNext\";var Person=function Person(props){var personID=props.personID,picturePath=props.picturePath,name=props.name,knownFor=props.knownFor;return React.createElement(\"div\",{className:style.person},React.createElement(\"div\",{className:style[\"picture-container\"]},React.createElement(\"img\",{src:\"https://image.tmdb.org/t/p/w185\".concat(picturePath),alt:\"person photo\"})),React.createElement(\"div\",{className:style[\"info-container\"]},React.createElement(Link,{to:\"/person/\".concat(personID),style:{textDecoration:\"none\",color:\"#C7493A\"}},React.createElement(\"span\",{className:style[\"person-name\"]},name)),React.createElement(\"span\",{style:{color:\"#C7493A\",display:\"block\",marginBottom:\"0.3em\"}},\"Known for:\"),knownFor.map(function(f,i){return React.createElement(\"span\",{key:f.id,className:style[\"person-knownfor\"]},f.media_type===\"movie\"?f.title:f.name,\" \",i<knownFor.length-1&&React.createElement(\"span\",null,\"| \"));})));};var Pagination=function Pagination(props){var pages=props.pages,currentPage=props.currentPage;return React.createElement(\"div\",{className:style.pagination},React.createElement(\"div\",{className:style[\"page-container\"]},pages.map(function(p,i){return React.createElement(React.Fragment,null,currentPage>1&&i===0&&// prev button\nReact.createElement(Link,{to:\"/people/\".concat(currentPage-1),className:style[\"page-link\"],onClick:function onClick(){setTimeout(function(){window.location.reload();},100);}},\"<\"),currentPage<500&&React.createElement(Link,{to:\"/people/\".concat(p),className:String(p)===String(currentPage)?style[\"page-link-active\"]:style[\"page-link\"],onClick:function onClick(){setTimeout(function(){window.location.reload();},100);}},p),currentPage<500&&i===7&&React.createElement(Link,{to:\"/people/\".concat(parseInt(currentPage)+1),className:style[\"page-link\"],onClick:function onClick(){setTimeout(function(){window.location.reload();},100);}},\">\"));})));};export var People=/*#__PURE__*/function(_Component){_inherits(People,_Component);function People(){var _getPrototypeOf2;var _this;_classCallCheck(this,People);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(People)).call.apply(_getPrototypeOf2,[this].concat(args)));_this.state={apiKey:\"325d84ad33eb95a5c0fc5427ba3f569a\",people:[],currentPage:\"\",pages:[1,2,3,4,5,6,7,8]};return _this;}_createClass(People,[{key:\"componentDidMount\",value:function(){var _componentDidMount=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var _this2=this;var apiKey,page,tempPages,i,_i;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:apiKey=this.state.apiKey;page=this.props.match.params.page;tempPages=[];//pagination logic when page > 4\nif(parseInt(page)>4){for(i=1;i<5;i++){tempPages.unshift(parseInt(page)-i);}for(_i=0;_i<4;_i++){tempPages.push(parseInt(page)+_i);}this.setState(function(){return{pages:[].concat(tempPages)};});}console.log(tempPages);_context.next=7;return axios.get(\"https://api.themoviedb.org/3/person/popular?api_key=\".concat(apiKey,\"&language=en-US&page=\").concat(page)).then(function(res){_this2.setState(function(){return{people:_toConsumableArray(res.data.results),currentPage:page};});}).catch(function(err){return console.log(err);});case 7:console.log(this.state.currentPage);case 8:case\"end\":return _context.stop();}}},_callee,this);}));function componentDidMount(){return _componentDidMount.apply(this,arguments);}return componentDidMount;}()},{key:\"render\",value:function render(){var _this$state=this.state,people=_this$state.people,pages=_this$state.pages,currentPage=_this$state.currentPage;return React.createElement(\"div\",{className:style.people},React.createElement(\"div\",{style:{marginTop:\"4%\",gridColumnStart:\"2\"}}),React.createElement(Title,{titleName:\"Popular\"}),React.createElement(Pagination,{pages:pages,currentPage:currentPage}),React.createElement(\"div\",{className:style[\"people-container\"]},people.map(function(p){return React.createElement(Person,{key:p.id,personID:p.id,picturePath:p.profile_path,name:p.name,knownFor:p.known_for});})),React.createElement(Pagination,{pages:pages,currentPage:currentPage}),React.createElement(Copyright,null));}}]);return People;}(Component);export default People;","map":{"version":3,"sources":["/media/kevin/Projects/REACT/mophoria/src/components/pages/people/People.js"],"names":["React","Component","style","axios","Link","Title","Copyright","NavigateNextIcon","Person","props","personID","picturePath","name","knownFor","person","textDecoration","color","display","marginBottom","map","f","i","id","media_type","title","length","Pagination","pages","currentPage","pagination","p","setTimeout","window","location","reload","String","parseInt","People","state","apiKey","people","page","match","params","tempPages","unshift","push","setState","console","log","get","then","res","data","results","catch","err","marginTop","gridColumnStart","profile_path","known_for"],"mappings":"28BAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,MAAOC,CAAAA,KAAP,KAAkB,qBAAlB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,IAAT,KAAqB,kBAArB,CACA,MAAOC,CAAAA,KAAP,KAAkB,8BAAlB,CACA,MAAOC,CAAAA,SAAP,KAAsB,kCAAtB,CACA,MAAOC,CAAAA,gBAAP,KAA6B,iCAA7B,CAEA,GAAMC,CAAAA,MAAM,CAAG,QAATA,CAAAA,MAAS,CAAAC,KAAK,CAAI,IACdC,CAAAA,QADc,CAC4BD,KAD5B,CACdC,QADc,CACJC,WADI,CAC4BF,KAD5B,CACJE,WADI,CACSC,IADT,CAC4BH,KAD5B,CACSG,IADT,CACeC,QADf,CAC4BJ,KAD5B,CACeI,QADf,CAGtB,MACE,4BAAK,SAAS,CAAEX,KAAK,CAACY,MAAtB,EACE,2BAAK,SAAS,CAAEZ,KAAK,CAAC,mBAAD,CAArB,EACE,2BACE,GAAG,0CAAoCS,WAApC,CADL,CAEE,GAAG,CAAC,cAFN,EADF,CADF,CAOE,2BAAK,SAAS,CAAET,KAAK,CAAC,gBAAD,CAArB,EACE,oBAAC,IAAD,EACE,EAAE,mBAAaQ,QAAb,CADJ,CAEE,KAAK,CAAE,CAAEK,cAAc,CAAE,MAAlB,CAA0BC,KAAK,CAAE,SAAjC,CAFT,EAIE,4BAAM,SAAS,CAAEd,KAAK,CAAC,aAAD,CAAtB,EAAwCU,IAAxC,CAJF,CADF,CAOE,4BACE,KAAK,CAAE,CAAEI,KAAK,CAAE,SAAT,CAAoBC,OAAO,CAAE,OAA7B,CAAsCC,YAAY,CAAE,OAApD,CADT,eAPF,CAYGL,QAAQ,CAACM,GAAT,CAAa,SAACC,CAAD,CAAIC,CAAJ,QACZ,6BAAM,GAAG,CAAED,CAAC,CAACE,EAAb,CAAiB,SAAS,CAAEpB,KAAK,CAAC,iBAAD,CAAjC,EACGkB,CAAC,CAACG,UAAF,GAAiB,OAAjB,CAA2BH,CAAC,CAACI,KAA7B,CAAqCJ,CAAC,CAACR,IAD1C,CACgD,GADhD,CAEGS,CAAC,CAAGR,QAAQ,CAACY,MAAT,CAAkB,CAAtB,EAA2B,qCAF9B,CADY,EAAb,CAZH,CAPF,CADF,CA6BD,CAhCD,CAkCA,GAAMC,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,CAAAjB,KAAK,CAAI,IAClBkB,CAAAA,KADkB,CACKlB,KADL,CAClBkB,KADkB,CACXC,WADW,CACKnB,KADL,CACXmB,WADW,CAG1B,MACE,4BAAK,SAAS,CAAE1B,KAAK,CAAC2B,UAAtB,EACE,2BAAK,SAAS,CAAE3B,KAAK,CAAC,gBAAD,CAArB,EACGyB,KAAK,CAACR,GAAN,CAAU,SAACW,CAAD,CAAIT,CAAJ,QACT,yCACGO,WAAW,CAAG,CAAd,EAAmBP,CAAC,GAAK,CAAzB,EACC;AACA,oBAAC,IAAD,EACE,EAAE,mBAAaO,WAAW,CAAG,CAA3B,CADJ,CAEE,SAAS,CAAE1B,KAAK,CAAC,WAAD,CAFlB,CAGE,OAAO,CAAE,kBAAM,CACb6B,UAAU,CAAC,UAAM,CACfC,MAAM,CAACC,QAAP,CAAgBC,MAAhB,GACD,CAFS,CAEP,GAFO,CAAV,CAGD,CAPH,EASG,GATH,CAHJ,CAgBGN,WAAW,CAAG,GAAd,EACC,oBAAC,IAAD,EACE,EAAE,mBAAaE,CAAb,CADJ,CAEE,SAAS,CACPK,MAAM,CAACL,CAAD,CAAN,GAAcK,MAAM,CAACP,WAAD,CAApB,CACI1B,KAAK,CAAC,kBAAD,CADT,CAEIA,KAAK,CAAC,WAAD,CALb,CAOE,OAAO,CAAE,kBAAM,CACb6B,UAAU,CAAC,UAAM,CACfC,MAAM,CAACC,QAAP,CAAgBC,MAAhB,GACD,CAFS,CAEP,GAFO,CAAV,CAGD,CAXH,EAaGJ,CAbH,CAjBJ,CAmCGF,WAAW,CAAG,GAAd,EAAqBP,CAAC,GAAK,CAA3B,EACC,oBAAC,IAAD,EACE,EAAE,mBAAae,QAAQ,CAACR,WAAD,CAAR,CAAwB,CAArC,CADJ,CAEE,SAAS,CAAE1B,KAAK,CAAC,WAAD,CAFlB,CAGE,OAAO,CAAE,kBAAM,CACb6B,UAAU,CAAC,UAAM,CACfC,MAAM,CAACC,QAAP,CAAgBC,MAAhB,GACD,CAFS,CAEP,GAFO,CAAV,CAGD,CAPH,EASG,GATH,CApCJ,CADS,EAAV,CADH,CADF,CADF,CAyDD,CA5DD,CA8DA,UAAaG,CAAAA,MAAb,+XACEC,KADF,CACU,CACNC,MAAM,CAAE,kCADF,CAENC,MAAM,CAAE,EAFF,CAGNZ,WAAW,CAAE,EAHP,CAIND,KAAK,CAAE,CAAC,CAAD,CAAI,CAAJ,CAAO,CAAP,CAAU,CAAV,CAAa,CAAb,CAAgB,CAAhB,CAAmB,CAAnB,CAAsB,CAAtB,CAJD,CADV,+UASYY,MATZ,CASuB,KAAKD,KAT5B,CASYC,MATZ,CAUYE,IAVZ,CAUqB,KAAKhC,KAAL,CAAWiC,KAAX,CAAiBC,MAVtC,CAUYF,IAVZ,CAWQG,SAXR,CAWoB,EAXpB,CAaI;AACA,GAAIR,QAAQ,CAACK,IAAD,CAAR,CAAiB,CAArB,CAAwB,CACtB,IAASpB,CAAT,CAAa,CAAb,CAAgBA,CAAC,CAAG,CAApB,CAAuBA,CAAC,EAAxB,EAA4BuB,SAAS,CAACC,OAAV,CAAkBT,QAAQ,CAACK,IAAD,CAAR,CAAiBpB,CAAnC,EAA5B,CACA,IAASA,EAAT,CAAa,CAAb,CAAgBA,EAAC,CAAG,CAApB,CAAuBA,EAAC,EAAxB,EAA4BuB,SAAS,CAACE,IAAV,CAAeV,QAAQ,CAACK,IAAD,CAAR,CAAiBpB,EAAhC,EAA5B,CAEA,KAAK0B,QAAL,CAAc,UAAM,CAClB,MAAO,CACLpB,KAAK,WAAMiB,SAAN,CADA,CAAP,CAGD,CAJD,EAKD,CAEDI,OAAO,CAACC,GAAR,CAAYL,SAAZ,EAzBJ,sBA2BUzC,CAAAA,KAAK,CACR+C,GADG,+DAEqDX,MAFrD,iCAEmFE,IAFnF,GAIHU,IAJG,CAIE,SAAAC,GAAG,CAAI,CACX,MAAI,CAACL,QAAL,CAAc,UAAM,CAClB,MAAO,CACLP,MAAM,oBAAMY,GAAG,CAACC,IAAJ,CAASC,OAAf,CADD,CAEL1B,WAAW,CAAEa,IAFR,CAAP,CAID,CALD,EAMD,CAXG,EAYHc,KAZG,CAYG,SAAAC,GAAG,QAAIR,CAAAA,OAAO,CAACC,GAAR,CAAYO,GAAZ,CAAJ,EAZN,CA3BV,QAwCIR,OAAO,CAACC,GAAR,CAAY,KAAKX,KAAL,CAAWV,WAAvB,EAxCJ,+MA2CW,iBACgC,KAAKU,KADrC,CACCE,MADD,aACCA,MADD,CACSb,KADT,aACSA,KADT,CACgBC,WADhB,aACgBA,WADhB,CAGP,MACE,4BAAK,SAAS,CAAE1B,KAAK,CAACsC,MAAtB,EACE,2BAAK,KAAK,CAAE,CAAEiB,SAAS,CAAE,IAAb,CAAmBC,eAAe,CAAE,GAApC,CAAZ,EADF,CAEE,oBAAC,KAAD,EAAO,SAAS,CAAC,SAAjB,EAFF,CAGE,oBAAC,UAAD,EAAY,KAAK,CAAE/B,KAAnB,CAA0B,WAAW,CAAEC,WAAvC,EAHF,CAIE,2BAAK,SAAS,CAAE1B,KAAK,CAAC,kBAAD,CAArB,EACGsC,MAAM,CAACrB,GAAP,CAAW,SAAAW,CAAC,QACX,qBAAC,MAAD,EACE,GAAG,CAAEA,CAAC,CAACR,EADT,CAEE,QAAQ,CAAEQ,CAAC,CAACR,EAFd,CAGE,WAAW,CAAEQ,CAAC,CAAC6B,YAHjB,CAIE,IAAI,CAAE7B,CAAC,CAAClB,IAJV,CAKE,QAAQ,CAAEkB,CAAC,CAAC8B,SALd,EADW,EAAZ,CADH,CAJF,CAeE,oBAAC,UAAD,EAAY,KAAK,CAAEjC,KAAnB,CAA0B,WAAW,CAAEC,WAAvC,EAfF,CAgBE,oBAAC,SAAD,MAhBF,CADF,CAoBD,CAlEH,oBAA4B3B,SAA5B,EAqEA,cAAeoC,CAAAA,MAAf","sourcesContent":["import React, { Component } from \"react\";\r\nimport style from \"./people.module.css\";\r\nimport axios from \"axios\";\r\nimport { Link } from \"react-router-dom\";\r\nimport Title from \"../../globalComponents/Title\";\r\nimport Copyright from \"../../globalComponents/Copyright\";\r\nimport NavigateNextIcon from \"@material-ui/icons/NavigateNext\";\r\n\r\nconst Person = props => {\r\n  const { personID, picturePath, name, knownFor } = props;\r\n\r\n  return (\r\n    <div className={style.person}>\r\n      <div className={style[\"picture-container\"]}>\r\n        <img\r\n          src={`https://image.tmdb.org/t/p/w185${picturePath}`}\r\n          alt=\"person photo\"\r\n        />\r\n      </div>\r\n      <div className={style[\"info-container\"]}>\r\n        <Link\r\n          to={`/person/${personID}`}\r\n          style={{ textDecoration: \"none\", color: \"#C7493A\" }}\r\n        >\r\n          <span className={style[\"person-name\"]}>{name}</span>\r\n        </Link>\r\n        <span\r\n          style={{ color: \"#C7493A\", display: \"block\", marginBottom: \"0.3em\" }}\r\n        >\r\n          Known for:\r\n        </span>\r\n        {knownFor.map((f, i) => (\r\n          <span key={f.id} className={style[\"person-knownfor\"]}>\r\n            {f.media_type === \"movie\" ? f.title : f.name}{\" \"}\r\n            {i < knownFor.length - 1 && <span>| </span>}\r\n          </span>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst Pagination = props => {\r\n  const { pages, currentPage } = props;\r\n\r\n  return (\r\n    <div className={style.pagination}>\r\n      <div className={style[\"page-container\"]}>\r\n        {pages.map((p, i) => (\r\n          <>\r\n            {currentPage > 1 && i === 0 && (\r\n              // prev button\r\n              <Link\r\n                to={`/people/${currentPage - 1}`}\r\n                className={style[\"page-link\"]}\r\n                onClick={() => {\r\n                  setTimeout(() => {\r\n                    window.location.reload();\r\n                  }, 100);\r\n                }}\r\n              >\r\n                {\"<\"}\r\n              </Link>\r\n            )}\r\n            {/* number pages  */}\r\n            {currentPage < 500 && (\r\n              <Link\r\n                to={`/people/${p}`}\r\n                className={\r\n                  String(p) === String(currentPage)\r\n                    ? style[\"page-link-active\"]\r\n                    : style[\"page-link\"]\r\n                }\r\n                onClick={() => {\r\n                  setTimeout(() => {\r\n                    window.location.reload();\r\n                  }, 100);\r\n                }}\r\n              >\r\n                {p}\r\n              </Link>\r\n            )}\r\n\r\n            {/* next button */}\r\n            {currentPage < 500 && i === 7 && (\r\n              <Link\r\n                to={`/people/${parseInt(currentPage) + 1}`}\r\n                className={style[\"page-link\"]}\r\n                onClick={() => {\r\n                  setTimeout(() => {\r\n                    window.location.reload();\r\n                  }, 100);\r\n                }}\r\n              >\r\n                {\">\"}\r\n              </Link>\r\n            )}\r\n          </>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport class People extends Component {\r\n  state = {\r\n    apiKey: \"325d84ad33eb95a5c0fc5427ba3f569a\",\r\n    people: [],\r\n    currentPage: \"\",\r\n    pages: [1, 2, 3, 4, 5, 6, 7, 8]\r\n  };\r\n\r\n  async componentDidMount() {\r\n    const { apiKey } = this.state;\r\n    const { page } = this.props.match.params;\r\n    let tempPages = [];\r\n\r\n    //pagination logic when page > 4\r\n    if (parseInt(page) > 4) {\r\n      for (let i = 1; i < 5; i++) tempPages.unshift(parseInt(page) - i);\r\n      for (let i = 0; i < 4; i++) tempPages.push(parseInt(page) + i);\r\n\r\n      this.setState(() => {\r\n        return {\r\n          pages: [...tempPages]\r\n        };\r\n      });\r\n    }\r\n\r\n    console.log(tempPages);\r\n\r\n    await axios\r\n      .get(\r\n        `https://api.themoviedb.org/3/person/popular?api_key=${apiKey}&language=en-US&page=${page}`\r\n      )\r\n      .then(res => {\r\n        this.setState(() => {\r\n          return {\r\n            people: [...res.data.results],\r\n            currentPage: page\r\n          };\r\n        });\r\n      })\r\n      .catch(err => console.log(err));\r\n    console.log(this.state.currentPage);\r\n  }\r\n\r\n  render() {\r\n    const { people, pages, currentPage } = this.state;\r\n\r\n    return (\r\n      <div className={style.people}>\r\n        <div style={{ marginTop: \"4%\", gridColumnStart: \"2\" }}></div>\r\n        <Title titleName=\"Popular\" />\r\n        <Pagination pages={pages} currentPage={currentPage} />\r\n        <div className={style[\"people-container\"]}>\r\n          {people.map(p => (\r\n            <Person\r\n              key={p.id}\r\n              personID={p.id}\r\n              picturePath={p.profile_path}\r\n              name={p.name}\r\n              knownFor={p.known_for}\r\n            />\r\n          ))}\r\n        </div>\r\n        <Pagination pages={pages} currentPage={currentPage} />\r\n        <Copyright />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default People;\r\n"]},"metadata":{},"sourceType":"module"}