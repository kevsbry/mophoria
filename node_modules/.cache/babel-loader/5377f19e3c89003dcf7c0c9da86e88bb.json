{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\kevin\\\\go\\\\src\\\\github.com\\\\kevsbry\\\\react projects\\\\mophoria\\\\src\\\\components\\\\pages\\\\person\\\\Person.js\";\nimport React from \"react\";\nimport style from \"./person.module.css\";\nimport axios from \"axios\";\nimport FacebookIcon from \"@material-ui/icons/Facebook\";\nimport InstagramIcon from \"@material-ui/icons/Instagram\";\nimport TwitterIcon from \"@material-ui/icons/Twitter\";\nimport KeyboardArrowDownIcon from \"@material-ui/icons/KeyboardArrowDown\";\nimport Title from \"../../globalComponents/Title\";\nimport People from \"../home/People\";\nimport Copyright from \"../../globalComponents/Copyright\"; //Biography Component\n\nconst Biography = React.forwardRef((props, ref) => {\n  const {\n    details,\n    onClickArrowDown\n  } = props;\n  return React.createElement(React.Fragment, null, React.createElement(\"div\", {\n    ref: ref.biography,\n    className: style.biography,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 17\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: style[\"person-image\"],\n    ref: ref.image,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 18\n    },\n    __self: this\n  }, React.createElement(\"img\", {\n    src: `https://image.tmdb.org/t/p/original/${details.profile_path}`,\n    alt: \"person image\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 19\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: style[\"biography-details\"],\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 24\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    className: style[\"person-name\"],\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 25\n    },\n    __self: this\n  }, details.name), React.createElement(\"div\", {\n    className: style[\"social-icons\"],\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 26\n    },\n    __self: this\n  }, React.createElement(FacebookIcon, {\n    fontSize: \"large\",\n    style: {\n      color: \"#4267B2\",\n      marginRight: \"0.2em\"\n    },\n    className: style[\"social-icon\"],\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27\n    },\n    __self: this\n  }), React.createElement(InstagramIcon, {\n    fontSize: \"large\",\n    style: {\n      color: \"#A136B5\",\n      marginRight: \"0.2em\"\n    },\n    className: style[\"social-icon\"],\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32\n    },\n    __self: this\n  }), React.createElement(TwitterIcon, {\n    fontSize: \"large\",\n    style: {\n      color: \"#2CAAE1\"\n    },\n    className: style[\"social-icon\"],\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37\n    },\n    __self: this\n  })), React.createElement(\"span\", {\n    className: style[\"biography-title\"],\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43\n    },\n    __self: this\n  }, \"Biography\"), React.createElement(\"span\", {\n    className: style[\"biography-text\"],\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44\n    },\n    __self: this\n  }, details.biography))), React.createElement(\"div\", {\n    ref: ref.arrowDown,\n    className: style[\"arrow-down\"],\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47\n    },\n    __self: this\n  }, React.createElement(KeyboardArrowDownIcon, {\n    className: style[\"biography-arrow-down\"],\n    fontSize: \"large\",\n    onClick: onClickArrowDown,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48\n    },\n    __self: this\n  })));\n}); //Personal Details Component\n\nconst PersonalDetails = props => {\n  const {\n    details\n  } = props;\n\n  const loopNames = names => {\n    let finalNames = \"\";\n\n    for (let i = 0; i < names.length; i++) {\n      finalNames += names[i];\n      if (i < names.length - 1) finalNames += \" | \";\n    }\n\n    return finalNames;\n  };\n\n  return React.createElement(\"div\", {\n    className: style[\"personal-details\"],\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72\n    },\n    __self: this\n  }, \"Birthday: \", React.createElement(\"span\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73\n    },\n    __self: this\n  }, details.birthday)), React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75\n    },\n    __self: this\n  }, \"Birth Place: \", React.createElement(\"span\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76\n    },\n    __self: this\n  }, details.place_of_birth)), React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78\n    },\n    __self: this\n  }, \"Known for: \", React.createElement(\"span\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79\n    },\n    __self: this\n  }, details.known_for_department)), React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81\n    },\n    __self: this\n  }, \"Alternate Names:\", \" \", React.createElement(\"span\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84\n    },\n    __self: this\n  }, details.also_known_as && loopNames(details.also_known_as))), React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89\n    },\n    __self: this\n  }, \"Homepage:\", \" \", React.createElement(\"span\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91\n    },\n    __self: this\n  }, details.homepage !== null ? details.homepage : \"N/A\")));\n}; // Filmography Component\n\n\nconst Filmography = props => {\n  return React.createElement(\"div\", {\n    className: style.filmography,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100\n    },\n    __self: this\n  }, props.cast && props.cast.map(c => React.createElement(\"div\", {\n    className: style.project,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    className: style[\"project-title\"],\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104\n    },\n    __self: this\n  }, c.title), React.createElement(\"span\", {\n    className: style[\"project-date\"],\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105\n    },\n    __self: this\n  }, c.release_date), React.createElement(\"span\", {\n    className: style[\"project-person-role\"],\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106\n    },\n    __self: this\n  }, c.character))));\n}; // Pictures Component\n\n\nconst Pictures = props => {\n  const {\n    pictures\n  } = props;\n  return React.createElement(\"div\", {\n    className: style.pictures,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117\n    },\n    __self: this\n  }, pictures && pictures.map((p, i) => i < 14 && React.createElement(\"img\", {\n    src: `https://image.tmdb.org/t/p/w185/${p.file_path}`,\n    alt: \"person image\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122\n    },\n    __self: this\n  })));\n};\n\nclass Person extends React.Component {\n  constructor(...args) {\n    super(...args);\n\n    this.personID = () => {\n      const {\n        personID\n      } = this.props.match.params;\n      return personID;\n    };\n\n    this.state = {\n      apiKey: \"325d84ad33eb95a5c0fc5427ba3f569a\",\n      personID: this.personID(),\n      personDetails: {},\n      filmography: [],\n      pictures: [],\n      isBiographyOvervlow: false\n    };\n\n    this.onClickArrowDown = () => {\n      this.biography.current.style.maxHeight = \"8000px\";\n      this.biography.current.style.transition = \"max-height 200ms ease-in\";\n    };\n\n    this.manipulateDOM = () => {\n      //biography\n      let imageHeight = this.biographyImage.current.offsetHeight;\n      let biographyHeight = this.biography.current.offsetHeight;\n      console.log(imageHeight + \"  \" + biographyHeight);\n\n      if (biographyHeight === imageHeight) {\n        this.biography.current.style.maxHeight = `${imageHeight}px`;\n      } else if (biographyHeight > imageHeight) {\n        this.arrowDown.current.style.visibility = \"visible\";\n        this.biography.current.style.overflow = \"hidden\";\n      }\n    };\n  }\n\n  async componentDidMount() {\n    const {\n      apiKey,\n      personID\n    } = this.state;\n    this.biography = React.createRef();\n    this.biographyImage = React.createRef();\n    this.arrowDown = React.createRef(); //details\n\n    await axios.get(`https://api.themoviedb.org/3/person/${personID}?api_key=${apiKey}&language=en-US`).then(res => {\n      this.setState(() => {\n        return {\n          personDetails: res.data\n        };\n      });\n    }).catch(err => console.log(err)); //movie credits\n\n    await axios.get(`https://api.themoviedb.org/3/person/${personID}/movie_credits?api_key=${apiKey}&language=en-US`).then(res => {\n      this.setState(() => {\n        return {\n          filmography: res.data\n        };\n      });\n    }).catch(err => console.log(err)); //pictures\n\n    await axios.get(`https://api.themoviedb.org/3/person/${personID}/images?api_key=${apiKey}`).then(res => {\n      this.setState(() => {\n        return {\n          pictures: [...res.data.profiles]\n        };\n      });\n    }).catch(err => console.log(err));\n    this.manipulateDOM();\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: style.person,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 220\n      },\n      __self: this\n    }, React.createElement(Biography, {\n      ref: {\n        biography: this.biography,\n        image: this.biographyImage,\n        arrowDown: this.arrowDown\n      },\n      details: this.state.personDetails,\n      onClickArrowDown: this.onClickArrowDown,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 221\n      },\n      __self: this\n    }), React.createElement(Title, {\n      titleName: \"Personal details\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 230\n      },\n      __self: this\n    }), React.createElement(PersonalDetails, {\n      details: this.state.personDetails,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 231\n      },\n      __self: this\n    }), React.createElement(Title, {\n      titleName: \"Filmography\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 232\n      },\n      __self: this\n    }), React.createElement(Filmography, {\n      cast: this.state.filmography.cast,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 233\n      },\n      __self: this\n    }), React.createElement(Title, {\n      titleName: \"Pictures\",\n      more: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 234\n      },\n      __self: this\n    }), React.createElement(Pictures, {\n      pictures: this.state.pictures,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 235\n      },\n      __self: this\n    }), React.createElement(Title, {\n      titleName: \"Trending People\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 236\n      },\n      __self: this\n    }), React.createElement(People, {\n      apiKey: this.state.apiKey,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 237\n      },\n      __self: this\n    }), React.createElement(Copyright, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 238\n      },\n      __self: this\n    }));\n  }\n\n}\n\nexport default Person;","map":{"version":3,"sources":["C:/Users/kevin/go/src/github.com/kevsbry/react projects/mophoria/src/components/pages/person/Person.js"],"names":["React","style","axios","FacebookIcon","InstagramIcon","TwitterIcon","KeyboardArrowDownIcon","Title","People","Copyright","Biography","forwardRef","props","ref","details","onClickArrowDown","biography","image","profile_path","name","color","marginRight","arrowDown","PersonalDetails","loopNames","names","finalNames","i","length","birthday","place_of_birth","known_for_department","also_known_as","homepage","Filmography","filmography","cast","map","c","project","title","release_date","character","Pictures","pictures","p","file_path","Person","Component","personID","match","params","state","apiKey","personDetails","isBiographyOvervlow","current","maxHeight","transition","manipulateDOM","imageHeight","biographyImage","offsetHeight","biographyHeight","console","log","visibility","overflow","componentDidMount","createRef","get","then","res","setState","data","catch","err","profiles","render","person"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport style from \"./person.module.css\";\r\nimport axios from \"axios\";\r\nimport FacebookIcon from \"@material-ui/icons/Facebook\";\r\nimport InstagramIcon from \"@material-ui/icons/Instagram\";\r\nimport TwitterIcon from \"@material-ui/icons/Twitter\";\r\nimport KeyboardArrowDownIcon from \"@material-ui/icons/KeyboardArrowDown\";\r\nimport Title from \"../../globalComponents/Title\";\r\nimport People from \"../home/People\";\r\nimport Copyright from \"../../globalComponents/Copyright\";\r\n\r\n//Biography Component\r\nconst Biography = React.forwardRef((props, ref) => {\r\n  const { details, onClickArrowDown } = props;\r\n  return (\r\n    <>\r\n      <div ref={ref.biography} className={style.biography}>\r\n        <div className={style[\"person-image\"]} ref={ref.image}>\r\n          <img\r\n            src={`https://image.tmdb.org/t/p/original/${details.profile_path}`}\r\n            alt=\"person image\"\r\n          />\r\n        </div>\r\n        <div className={style[\"biography-details\"]}>\r\n          <span className={style[\"person-name\"]}>{details.name}</span>\r\n          <div className={style[\"social-icons\"]}>\r\n            <FacebookIcon\r\n              fontSize=\"large\"\r\n              style={{ color: \"#4267B2\", marginRight: \"0.2em\" }}\r\n              className={style[\"social-icon\"]}\r\n            />\r\n            <InstagramIcon\r\n              fontSize=\"large\"\r\n              style={{ color: \"#A136B5\", marginRight: \"0.2em\" }}\r\n              className={style[\"social-icon\"]}\r\n            />\r\n            <TwitterIcon\r\n              fontSize=\"large\"\r\n              style={{ color: \"#2CAAE1\" }}\r\n              className={style[\"social-icon\"]}\r\n            />\r\n          </div>\r\n          <span className={style[\"biography-title\"]}>Biography</span>\r\n          <span className={style[\"biography-text\"]}>{details.biography}</span>\r\n        </div>\r\n      </div>\r\n      <div ref={ref.arrowDown} className={style[\"arrow-down\"]}>\r\n        <KeyboardArrowDownIcon\r\n          className={style[\"biography-arrow-down\"]}\r\n          fontSize=\"large\"\r\n          onClick={onClickArrowDown}\r\n        />\r\n      </div>\r\n    </>\r\n  );\r\n});\r\n\r\n//Personal Details Component\r\nconst PersonalDetails = props => {\r\n  const { details } = props;\r\n  const loopNames = names => {\r\n    let finalNames = \"\";\r\n    for (let i = 0; i < names.length; i++) {\r\n      finalNames += names[i];\r\n      if (i < names.length - 1) finalNames += \" | \";\r\n    }\r\n    return finalNames;\r\n  };\r\n\r\n  return (\r\n    <div className={style[\"personal-details\"]}>\r\n      <div>\r\n        Birthday: <span>{details.birthday}</span>\r\n      </div>\r\n      <div>\r\n        Birth Place: <span>{details.place_of_birth}</span>\r\n      </div>\r\n      <div>\r\n        Known for: <span>{details.known_for_department}</span>\r\n      </div>\r\n      <div>\r\n        Alternate Names:{\" \"}\r\n        {\r\n          <span>\r\n            {details.also_known_as && loopNames(details.also_known_as)}\r\n          </span>\r\n        }\r\n      </div>\r\n      <div>\r\n        Homepage:{\" \"}\r\n        <span>{details.homepage !== null ? details.homepage : \"N/A\"}</span>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\n// Filmography Component\r\nconst Filmography = props => {\r\n  return (\r\n    <div className={style.filmography}>\r\n      {props.cast &&\r\n        props.cast.map(c => (\r\n          <div className={style.project}>\r\n            <span className={style[\"project-title\"]}>{c.title}</span>\r\n            <span className={style[\"project-date\"]}>{c.release_date}</span>\r\n            <span className={style[\"project-person-role\"]}>{c.character}</span>\r\n          </div>\r\n        ))}\r\n    </div>\r\n  );\r\n};\r\n\r\n// Pictures Component\r\nconst Pictures = props => {\r\n  const { pictures } = props;\r\n  return (\r\n    <div className={style.pictures}>\r\n      {pictures &&\r\n        pictures.map(\r\n          (p, i) =>\r\n            i < 14 && (\r\n              <img\r\n                src={`https://image.tmdb.org/t/p/w185/${p.file_path}`}\r\n                alt=\"person image\"\r\n              />\r\n            )\r\n        )}\r\n    </div>\r\n  );\r\n};\r\n\r\nclass Person extends React.Component {\r\n  personID = () => {\r\n    const { personID } = this.props.match.params;\r\n    return personID;\r\n  };\r\n\r\n  state = {\r\n    apiKey: \"325d84ad33eb95a5c0fc5427ba3f569a\",\r\n    personID: this.personID(),\r\n    personDetails: {},\r\n    filmography: [],\r\n    pictures: [],\r\n    isBiographyOvervlow: false\r\n  };\r\n\r\n  onClickArrowDown = () => {\r\n    this.biography.current.style.maxHeight = \"8000px\";\r\n    this.biography.current.style.transition = \"max-height 200ms ease-in\";\r\n  };\r\n\r\n  manipulateDOM = () => {\r\n    //biography\r\n    let imageHeight = this.biographyImage.current.offsetHeight;\r\n    let biographyHeight = this.biography.current.offsetHeight;\r\n\r\n    console.log(imageHeight + \"  \" + biographyHeight);\r\n\r\n    if (biographyHeight === imageHeight) {\r\n      this.biography.current.style.maxHeight = `${imageHeight}px`;\r\n    } else if (biographyHeight > imageHeight) {\r\n      this.arrowDown.current.style.visibility = \"visible\";\r\n      this.biography.current.style.overflow = \"hidden\";\r\n    }\r\n  };\r\n\r\n  async componentDidMount() {\r\n    const { apiKey, personID } = this.state;\r\n    this.biography = React.createRef();\r\n    this.biographyImage = React.createRef();\r\n    this.arrowDown = React.createRef();\r\n\r\n    //details\r\n    await axios\r\n      .get(\r\n        `https://api.themoviedb.org/3/person/${personID}?api_key=${apiKey}&language=en-US`\r\n      )\r\n      .then(res => {\r\n        this.setState(() => {\r\n          return {\r\n            personDetails: res.data\r\n          };\r\n        });\r\n      })\r\n      .catch(err => console.log(err));\r\n\r\n    //movie credits\r\n    await axios\r\n      .get(\r\n        `https://api.themoviedb.org/3/person/${personID}/movie_credits?api_key=${apiKey}&language=en-US`\r\n      )\r\n      .then(res => {\r\n        this.setState(() => {\r\n          return {\r\n            filmography: res.data\r\n          };\r\n        });\r\n      })\r\n      .catch(err => console.log(err));\r\n\r\n    //pictures\r\n    await axios\r\n      .get(\r\n        `https://api.themoviedb.org/3/person/${personID}/images?api_key=${apiKey}`\r\n      )\r\n      .then(res => {\r\n        this.setState(() => {\r\n          return {\r\n            pictures: [...res.data.profiles]\r\n          };\r\n        });\r\n      })\r\n      .catch(err => console.log(err));\r\n\r\n    this.manipulateDOM();\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className={style.person}>\r\n        <Biography\r\n          ref={{\r\n            biography: this.biography,\r\n            image: this.biographyImage,\r\n            arrowDown: this.arrowDown\r\n          }}\r\n          details={this.state.personDetails}\r\n          onClickArrowDown={this.onClickArrowDown}\r\n        />\r\n        <Title titleName=\"Personal details\" />\r\n        <PersonalDetails details={this.state.personDetails} />\r\n        <Title titleName=\"Filmography\" />\r\n        <Filmography cast={this.state.filmography.cast} />\r\n        <Title titleName=\"Pictures\" more={true} />\r\n        <Pictures pictures={this.state.pictures} />\r\n        <Title titleName=\"Trending People\" />\r\n        <People apiKey={this.state.apiKey} />\r\n        <Copyright />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Person;\r\n"]},"metadata":{},"sourceType":"module"}