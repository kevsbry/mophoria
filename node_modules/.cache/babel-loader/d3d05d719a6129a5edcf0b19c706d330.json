{"ast":null,"code":"import _regeneratorRuntime from\"/media/kevin/Projects/REACT/mophoria/node_modules/@babel/runtime/regenerator\";import _toConsumableArray from\"/media/kevin/Projects/REACT/mophoria/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _asyncToGenerator from\"/media/kevin/Projects/REACT/mophoria/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/media/kevin/Projects/REACT/mophoria/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/media/kevin/Projects/REACT/mophoria/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/media/kevin/Projects/REACT/mophoria/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/media/kevin/Projects/REACT/mophoria/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/media/kevin/Projects/REACT/mophoria/node_modules/@babel/runtime/helpers/esm/inherits\";import React from\"react\";import style from\"./movie_tv.module.css\";import axios from\"axios\";var Artist=function Artist(props){return React.createElement(\"div\",{className:style.artist,onClick:function onClick(){props.onClickPerson(props.personID);}},React.createElement(\"img\",{className:style[\"artist-image\"],src:\"https://image.tmdb.org/t/p/h632/\".concat(props.cast.profile_path),alt:\"actor image\"}),React.createElement(\"div\",{className:style[\"artist-description\"]},React.createElement(\"span\",{className:style[\"cast-name\"]},props.cast.name),React.createElement(\"span\",{className:style[\"cast-character\"]},props.cast.character)));};var Cast=/*#__PURE__*/function(_React$Component){_inherits(Cast,_React$Component);function Cast(){var _getPrototypeOf2;var _this;_classCallCheck(this,Cast);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(Cast)).call.apply(_getPrototypeOf2,[this].concat(args)));_this.state={cast:[],crew:[]};_this.onClickPerson=function(personID){window.open(window.origin+\"/person/\"+personID,\"_self\");};return _this;}_createClass(Cast,[{key:\"componentDidMount\",value:function(){var _componentDidMount=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var _this2=this;var _this$props,isMovie,apiKey,itemID,setCast,apiURL;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_this$props=this.props,isMovie=_this$props.isMovie,apiKey=_this$props.apiKey,itemID=_this$props.itemID,setCast=_this$props.setCast;apiURL=isMovie?\"https://api.themoviedb.org/3/movie/\".concat(itemID,\"/credits?api_key=\").concat(apiKey):\"https://api.themoviedb.org/3/tv/\".concat(itemID,\"/credits?api_key=\").concat(apiKey,\"&language=en-US\");_context.next=4;return axios.get(apiURL).then(function(res){return _this2.setState(function(){return{cast:_toConsumableArray(res.data.cast),crew:_toConsumableArray(res.data.crew)};});}).catch(function(err){return console.log(err);});case 4:setCast(this.state.cast,this.state.crew);case 5:case\"end\":return _context.stop();}}},_callee,this);}));function componentDidMount(){return _componentDidMount.apply(this,arguments);}return componentDidMount;}()},{key:\"render\",value:function render(){var _this3=this;return React.createElement(\"div\",{className:style.cast},React.createElement(\"div\",{className:style[\"cast-container\"]},this.state.cast&&this.state.cast.map(function(c){return React.createElement(Artist,{cast:c,key:c.cast_id,personID:c.id,onClickPerson:_this3.onClickPerson});})));}}]);return Cast;}(React.Component);export default Cast;","map":{"version":3,"sources":["/media/kevin/Projects/REACT/mophoria/src/components/movie_tv_components/Cast.js"],"names":["React","style","axios","Artist","props","artist","onClickPerson","personID","cast","profile_path","name","character","Cast","state","crew","window","open","origin","isMovie","apiKey","itemID","setCast","apiURL","get","then","res","setState","data","catch","err","console","log","map","c","cast_id","id","Component"],"mappings":"28BAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,KAAP,KAAkB,uBAAlB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CAEA,GAAMC,CAAAA,MAAM,CAAG,QAATA,CAAAA,MAAS,CAAAC,KAAK,CAAI,CACtB,MACE,4BACE,SAAS,CAAEH,KAAK,CAACI,MADnB,CAEE,OAAO,CAAE,kBAAM,CACbD,KAAK,CAACE,aAAN,CAAoBF,KAAK,CAACG,QAA1B,EACD,CAJH,EAME,2BACE,SAAS,CAAEN,KAAK,CAAC,cAAD,CADlB,CAEE,GAAG,2CAAqCG,KAAK,CAACI,IAAN,CAAWC,YAAhD,CAFL,CAGE,GAAG,CAAC,aAHN,EANF,CAWE,2BAAK,SAAS,CAAER,KAAK,CAAC,oBAAD,CAArB,EACE,4BAAM,SAAS,CAAEA,KAAK,CAAC,WAAD,CAAtB,EAAsCG,KAAK,CAACI,IAAN,CAAWE,IAAjD,CADF,CAEE,4BAAM,SAAS,CAAET,KAAK,CAAC,gBAAD,CAAtB,EAA2CG,KAAK,CAACI,IAAN,CAAWG,SAAtD,CAFF,CAXF,CADF,CAkBD,CAnBD,C,GAqBMC,CAAAA,I,mYACJC,K,CAAQ,CACNL,IAAI,CAAE,EADA,CAENM,IAAI,CAAE,EAFA,C,OA2BRR,a,CAAgB,SAAAC,QAAQ,CAAI,CAC1BQ,MAAM,CAACC,IAAP,CAAYD,MAAM,CAACE,MAAP,CAAgB,UAAhB,CAA6BV,QAAzC,CAAmD,OAAnD,EACD,C,+WAvB8C,KAAKH,K,CAA1Cc,O,aAAAA,O,CAASC,M,aAAAA,M,CAAQC,M,aAAAA,M,CAAQC,O,aAAAA,O,CAE7BC,M,CAASJ,OAAO,8CACsBE,MADtB,6BACgDD,MADhD,4CAEmBC,MAFnB,6BAE6CD,MAF7C,mB,uBAIdjB,CAAAA,KAAK,CACRqB,GADG,CACCD,MADD,EAEHE,IAFG,CAEE,SAAAC,GAAG,QACP,CAAA,MAAI,CAACC,QAAL,CAAc,UAAM,CAClB,MAAO,CACLlB,IAAI,oBAAMiB,GAAG,CAACE,IAAJ,CAASnB,IAAf,CADC,CAELM,IAAI,oBAAMW,GAAG,CAACE,IAAJ,CAASb,IAAf,CAFC,CAAP,CAID,CALD,CADO,EAFL,EAUHc,KAVG,CAUG,SAAAC,GAAG,QAAIC,CAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ,CAAJ,EAVN,C,QAYNR,OAAO,CAAC,KAAKR,KAAL,CAAWL,IAAZ,CAAkB,KAAKK,KAAL,CAAWC,IAA7B,CAAP,C,+MAOO,iBACP,MACE,4BAAK,SAAS,CAAEb,KAAK,CAACO,IAAtB,EACE,2BAAK,SAAS,CAAEP,KAAK,CAAC,gBAAD,CAArB,EACG,KAAKY,KAAL,CAAWL,IAAX,EACC,KAAKK,KAAL,CAAWL,IAAX,CAAgBwB,GAAhB,CAAoB,SAAAC,CAAC,QACnB,qBAAC,MAAD,EACE,IAAI,CAAEA,CADR,CAEE,GAAG,CAAEA,CAAC,CAACC,OAFT,CAGE,QAAQ,CAAED,CAAC,CAACE,EAHd,CAIE,aAAa,CAAE,MAAI,CAAC7B,aAJtB,EADmB,EAArB,CAFJ,CADF,CADF,CAeD,C,kBAhDgBN,KAAK,CAACoC,S,EAmDzB,cAAexB,CAAAA,IAAf","sourcesContent":["import React from \"react\";\r\nimport style from \"./movie_tv.module.css\";\r\nimport axios from \"axios\";\r\n\r\nconst Artist = props => {\r\n  return (\r\n    <div\r\n      className={style.artist}\r\n      onClick={() => {\r\n        props.onClickPerson(props.personID);\r\n      }}\r\n    >\r\n      <img\r\n        className={style[\"artist-image\"]}\r\n        src={`https://image.tmdb.org/t/p/h632/${props.cast.profile_path}`}\r\n        alt=\"actor image\"\r\n      />\r\n      <div className={style[\"artist-description\"]}>\r\n        <span className={style[\"cast-name\"]}>{props.cast.name}</span>\r\n        <span className={style[\"cast-character\"]}>{props.cast.character}</span>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nclass Cast extends React.Component {\r\n  state = {\r\n    cast: [],\r\n    crew: []\r\n  };\r\n\r\n  async componentDidMount() {\r\n    const { isMovie, apiKey, itemID, setCast } = this.props;\r\n\r\n    let apiURL = isMovie\r\n      ? `https://api.themoviedb.org/3/movie/${itemID}/credits?api_key=${apiKey}`\r\n      : `https://api.themoviedb.org/3/tv/${itemID}/credits?api_key=${apiKey}&language=en-US`;\r\n\r\n    await axios\r\n      .get(apiURL)\r\n      .then(res =>\r\n        this.setState(() => {\r\n          return {\r\n            cast: [...res.data.cast],\r\n            crew: [...res.data.crew]\r\n          };\r\n        })\r\n      )\r\n      .catch(err => console.log(err));\r\n\r\n    setCast(this.state.cast, this.state.crew);\r\n  }\r\n\r\n  onClickPerson = personID => {\r\n    window.open(window.origin + \"/person/\" + personID, \"_self\");\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div className={style.cast}>\r\n        <div className={style[\"cast-container\"]}>\r\n          {this.state.cast &&\r\n            this.state.cast.map(c => (\r\n              <Artist\r\n                cast={c}\r\n                key={c.cast_id}\r\n                personID={c.id}\r\n                onClickPerson={this.onClickPerson}\r\n              />\r\n            ))}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Cast;\r\n"]},"metadata":{},"sourceType":"module"}