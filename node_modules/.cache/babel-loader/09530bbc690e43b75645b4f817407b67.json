{"ast":null,"code":"import _regeneratorRuntime from\"/media/kevin/Projects/REACT/mophoria/node_modules/@babel/runtime/regenerator\";import _toConsumableArray from\"/media/kevin/Projects/REACT/mophoria/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _asyncToGenerator from\"/media/kevin/Projects/REACT/mophoria/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/media/kevin/Projects/REACT/mophoria/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/media/kevin/Projects/REACT/mophoria/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/media/kevin/Projects/REACT/mophoria/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/media/kevin/Projects/REACT/mophoria/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/media/kevin/Projects/REACT/mophoria/node_modules/@babel/runtime/helpers/esm/inherits\";import React from\"react\";import axios from\"axios\";import NavigateNextIcon from\"@material-ui/icons/NavigateNext\";import NavigateBeforeIcon from\"@material-ui/icons/NavigateBefore\";var PrevBtn=function PrevBtn(props){return React.createElement(\"div\",{className:\"theaters-prevBtn\",onClick:props.onPrev},React.createElement(NavigateBeforeIcon,{className:\"theaters-prev\"}));};var NextBtn=function NextBtn(props){return React.createElement(\"div\",{className:\"theaters-nextBtn\",onClick:props.onNext},React.createElement(NavigateNextIcon,{className:\"theaters-next\"}));};var Theaters=/*#__PURE__*/function(_React$Component){_inherits(Theaters,_React$Component);function Theaters(props){var _this;_classCallCheck(this,Theaters);_this=_possibleConstructorReturn(this,_getPrototypeOf(Theaters).call(this,props));_this.carouselTransformVal=0;_this.onPrev=function(){if(_this.carouselTransformVal>0)_this.carouselTransformVal-=100;console.log(_this.carouselTransformVal);// const carousel = document.querySelector(\".theaters-carousel-slide\");\n_this.carouselRef.current.style.transform=\"translateX(-\".concat(_this.carouselTransformVal,\"%)\");};_this.onNext=function(){_this.carouselTransformVal+=100;// const carousel = document.querySelector(\".theaters-carousel-slide\");\n_this.carouselRef.current.style.transform=\"translateX(-\".concat(_this.carouselTransformVal,\"%)\");};_this.onMovieClick=function(id,isMovie){window.location.href=isMovie?window.origin+\"/movie/\"+id:window.origin+\"/tv/\"+id;};_this.state={inTheaters:[],region:\"us\"};_this.carouselRef=React.createRef();return _this;}_createClass(Theaters,[{key:\"componentDidMount\",value:function(){var _componentDidMount=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var _this2=this;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:this.movie=React.createRef();_context.next=3;return axios.get(this.props.api// `https://api.themoviedb.org/3/movie/now_playing?api_key=${this.props.apiKey}&language=en-US&region=${this.state.region}`\n).then(function(res){_this2.setState(function(){return{inTheaters:_toConsumableArray(res.data.results)};});}).catch(function(err){return console.log(err);});case 3:case\"end\":return _context.stop();}}},_callee,this);}));function componentDidMount(){return _componentDidMount.apply(this,arguments);}return componentDidMount;}()},{key:\"render\",value:function render(){var _this3=this;return React.createElement(\"div\",{className:\"theaters\"},React.createElement(React.Fragment,null,React.createElement(\"div\",{ref:this.carouselRef,className:\"theaters-carousel-slide\"},this.state.inTheaters.map(function(m){return React.createElement(\"div\",{key:m.id,className:\"theaters-poster\"},React.createElement(\"img\",{src:\"https://image.tmdb.org/t/p/w342/\".concat(m.poster_path),alt:\"movie poster\"}),React.createElement(\"div\",{className:\"theaters-overlay\",ref:_this3.movie,onClick:function onClick(){_this3.onMovieClick(m.id,_this3.props.isMovie);}},_this3.props.isMovie?React.createElement(\"span\",null,m.title):React.createElement(\"span\",null,m.name),_this3.props.isMovie&&React.createElement(\"span\",null,\"(\".concat(m.release_date,\")\"))));})),React.createElement(PrevBtn,{onPrev:this.onPrev}),React.createElement(NextBtn,{onNext:this.onNext})));}}]);return Theaters;}(React.Component);export default Theaters;","map":{"version":3,"sources":["/media/kevin/Projects/REACT/mophoria/src/components/globalComponents/List.js"],"names":["React","axios","NavigateNextIcon","NavigateBeforeIcon","PrevBtn","props","onPrev","NextBtn","onNext","Theaters","carouselTransformVal","console","log","carouselRef","current","style","transform","onMovieClick","id","isMovie","window","location","href","origin","state","inTheaters","region","createRef","movie","get","api","then","res","setState","data","results","catch","err","map","m","poster_path","title","name","release_date","Component"],"mappings":"28BAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CAEA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,gBAAP,KAA6B,iCAA7B,CACA,MAAOC,CAAAA,kBAAP,KAA+B,mCAA/B,CAEA,GAAMC,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,CAAAC,KAAK,CAAI,CACvB,MACE,4BAAK,SAAS,CAAC,kBAAf,CAAkC,OAAO,CAAEA,KAAK,CAACC,MAAjD,EACE,oBAAC,kBAAD,EAAoB,SAAS,CAAC,eAA9B,EADF,CADF,CAKD,CAND,CAQA,GAAMC,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,CAAAF,KAAK,CAAI,CACvB,MACE,4BAAK,SAAS,CAAC,kBAAf,CAAkC,OAAO,CAAEA,KAAK,CAACG,MAAjD,EACE,oBAAC,gBAAD,EAAkB,SAAS,CAAC,eAA5B,EADF,CADF,CAKD,CAND,C,GAQMC,CAAAA,Q,8EA4BJ,kBAAYJ,KAAZ,CAAmB,0CACjB,0EAAMA,KAAN,GADiB,MA3BnBK,oBA2BmB,CA3BI,CA2BJ,OAzBnBJ,MAyBmB,CAzBV,UAAM,CACb,GAAI,MAAKI,oBAAL,CAA4B,CAAhC,CAAmC,MAAKA,oBAAL,EAA6B,GAA7B,CACnCC,OAAO,CAACC,GAAR,CAAY,MAAKF,oBAAjB,EAEA;AACA,MAAKG,WAAL,CAAiBC,OAAjB,CAAyBC,KAAzB,CAA+BC,SAA/B,uBAA0D,MAAKN,oBAA/D,OACD,CAmBkB,OAjBnBF,MAiBmB,CAjBV,UAAM,CACb,MAAKE,oBAAL,EAA6B,GAA7B,CACA;AACA,MAAKG,WAAL,CAAiBC,OAAjB,CAAyBC,KAAzB,CAA+BC,SAA/B,uBAA0D,MAAKN,oBAA/D,OACD,CAakB,OAXnBO,YAWmB,CAXJ,SAACC,EAAD,CAAKC,OAAL,CAAiB,CAC9BC,MAAM,CAACC,QAAP,CAAgBC,IAAhB,CAAuBH,OAAO,CAC1BC,MAAM,CAACG,MAAP,CAAgB,SAAhB,CAA4BL,EADF,CAE1BE,MAAM,CAACG,MAAP,CAAgB,MAAhB,CAAyBL,EAF7B,CAGD,CAOkB,OALnBM,KAKmB,CALX,CACNC,UAAU,CAAE,EADN,CAENC,MAAM,CAAE,IAFF,CAKW,CAEjB,MAAKb,WAAL,CAAmBb,KAAK,CAAC2B,SAAN,EAAnB,CAFiB,aAGlB,C,mSAGC,KAAKC,KAAL,CAAa5B,KAAK,CAAC2B,SAAN,EAAb,C,sBAEM1B,CAAAA,KAAK,CACR4B,GADG,CAEF,KAAKxB,KAAL,CAAWyB,GACX;AAHE,EAKHC,IALG,CAKE,SAAAC,GAAG,CAAI,CACX,MAAI,CAACC,QAAL,CAAc,UAAM,CAClB,MAAO,CACLR,UAAU,oBAAMO,GAAG,CAACE,IAAJ,CAASC,OAAf,CADL,CAAP,CAGD,CAJD,EAKD,CAXG,EAYHC,KAZG,CAYG,SAAAC,GAAG,QAAI1B,CAAAA,OAAO,CAACC,GAAR,CAAYyB,GAAZ,CAAJ,EAZN,C,gNAeC,iBACP,MACE,4BAAK,SAAS,CAAC,UAAf,EACE,oBAAC,KAAD,CAAO,QAAP,MACE,2BAAK,GAAG,CAAE,KAAKxB,WAAf,CAA4B,SAAS,CAAC,yBAAtC,EACG,KAAKW,KAAL,CAAWC,UAAX,CAAsBa,GAAtB,CAA0B,SAAAC,CAAC,QAC1B,4BAAK,GAAG,CAAEA,CAAC,CAACrB,EAAZ,CAAgB,SAAS,CAAC,iBAA1B,EACE,2BACE,GAAG,2CAAqCqB,CAAC,CAACC,WAAvC,CADL,CAEE,GAAG,CAAC,cAFN,EADF,CAKE,2BACE,SAAS,CAAC,kBADZ,CAEE,GAAG,CAAE,MAAI,CAACZ,KAFZ,CAGE,OAAO,CAAE,kBAAM,CACb,MAAI,CAACX,YAAL,CAAkBsB,CAAC,CAACrB,EAApB,CAAwB,MAAI,CAACb,KAAL,CAAWc,OAAnC,EACD,CALH,EAOG,MAAI,CAACd,KAAL,CAAWc,OAAX,CACC,gCAAOoB,CAAC,CAACE,KAAT,CADD,CAGC,gCAAOF,CAAC,CAACG,IAAT,CAVJ,CAYG,MAAI,CAACrC,KAAL,CAAWc,OAAX,EAAsB,2CAAWoB,CAAC,CAACI,YAAb,MAZzB,CALF,CAD0B,EAA3B,CADH,CADF,CAyBE,oBAAC,OAAD,EAAS,MAAM,CAAE,KAAKrC,MAAtB,EAzBF,CA0BE,oBAAC,OAAD,EAAS,MAAM,CAAE,KAAKE,MAAtB,EA1BF,CADF,CADF,CAgCD,C,sBApFoBR,KAAK,CAAC4C,S,EA2F7B,cAAenC,CAAAA,QAAf","sourcesContent":["import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport axios from \"axios\";\r\nimport NavigateNextIcon from \"@material-ui/icons/NavigateNext\";\r\nimport NavigateBeforeIcon from \"@material-ui/icons/NavigateBefore\";\r\n\r\nconst PrevBtn = props => {\r\n  return (\r\n    <div className=\"theaters-prevBtn\" onClick={props.onPrev}>\r\n      <NavigateBeforeIcon className=\"theaters-prev\" />\r\n    </div>\r\n  );\r\n};\r\n\r\nconst NextBtn = props => {\r\n  return (\r\n    <div className=\"theaters-nextBtn\" onClick={props.onNext}>\r\n      <NavigateNextIcon className=\"theaters-next\" />\r\n    </div>\r\n  );\r\n};\r\n\r\nclass Theaters extends React.Component {\r\n  carouselTransformVal = 0;\r\n\r\n  onPrev = () => {\r\n    if (this.carouselTransformVal > 0) this.carouselTransformVal -= 100;\r\n    console.log(this.carouselTransformVal);\r\n\r\n    // const carousel = document.querySelector(\".theaters-carousel-slide\");\r\n    this.carouselRef.current.style.transform = `translateX(-${this.carouselTransformVal}%)`;\r\n  };\r\n\r\n  onNext = () => {\r\n    this.carouselTransformVal += 100;\r\n    // const carousel = document.querySelector(\".theaters-carousel-slide\");\r\n    this.carouselRef.current.style.transform = `translateX(-${this.carouselTransformVal}%)`;\r\n  };\r\n\r\n  onMovieClick = (id, isMovie) => {\r\n    window.location.href = isMovie\r\n      ? window.origin + \"/movie/\" + id\r\n      : window.origin + \"/tv/\" + id;\r\n  };\r\n\r\n  state = {\r\n    inTheaters: [],\r\n    region: \"us\"\r\n  };\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.carouselRef = React.createRef();\r\n  }\r\n\r\n  async componentDidMount() {\r\n    this.movie = React.createRef();\r\n\r\n    await axios\r\n      .get(\r\n        this.props.api\r\n        // `https://api.themoviedb.org/3/movie/now_playing?api_key=${this.props.apiKey}&language=en-US&region=${this.state.region}`\r\n      )\r\n      .then(res => {\r\n        this.setState(() => {\r\n          return {\r\n            inTheaters: [...res.data.results]\r\n          };\r\n        });\r\n      })\r\n      .catch(err => console.log(err));\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"theaters\">\r\n        <React.Fragment>\r\n          <div ref={this.carouselRef} className=\"theaters-carousel-slide\">\r\n            {this.state.inTheaters.map(m => (\r\n              <div key={m.id} className=\"theaters-poster\">\r\n                <img\r\n                  src={`https://image.tmdb.org/t/p/w342/${m.poster_path}`}\r\n                  alt=\"movie poster\"\r\n                />\r\n                <div\r\n                  className=\"theaters-overlay\"\r\n                  ref={this.movie}\r\n                  onClick={() => {\r\n                    this.onMovieClick(m.id, this.props.isMovie);\r\n                  }}\r\n                >\r\n                  {this.props.isMovie ? (\r\n                    <span>{m.title}</span>\r\n                  ) : (\r\n                    <span>{m.name}</span>\r\n                  )}\r\n                  {this.props.isMovie && <span>{`(${m.release_date})`}</span>}\r\n                </div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n          <PrevBtn onPrev={this.onPrev} />\r\n          <NextBtn onNext={this.onNext} />\r\n        </React.Fragment>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nTheaters.propTypes = {\r\n  apiKey: PropTypes.string.isRequired\r\n};\r\n\r\nexport default Theaters;\r\n"]},"metadata":{},"sourceType":"module"}