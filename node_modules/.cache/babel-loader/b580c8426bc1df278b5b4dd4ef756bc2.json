{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\kevin\\\\go\\\\src\\\\github.com\\\\kevsbry\\\\react projects\\\\mophoria\\\\src\\\\components\\\\pages\\\\movies_tvs\\\\Movies.js\";\nimport React from \"react\";\nimport style from \"./movies_tvs.module.css\";\nimport axios from \"axios\";\nimport Title from \"../../globalComponents/Title\";\nimport Item from \"./Item\";\nimport Filter from \"./Filter\";\n\nclass Movies extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      apiKey: \"325d84ad33eb95a5c0fc5427ba3f569a\",\n      items: [],\n      initialItemsValue: [],\n      type: \"movie\"\n    };\n\n    this.onSearch = async e => {\n      //change items on search\n      if (e.target.value === \"\") {\n        this.setState(() => {\n          return {\n            items: [...this.state.initialItemsValue]\n          };\n        });\n      } else {\n        await axios.get(`https://api.themoviedb.org/3/search/movie?api_key=${this.state.apiKey}&language=en-US&page=1&include_adult=false&query=${e.target.value}`).then(res => {\n          this.setState(() => {\n            return {\n              items: res.data.results\n            };\n          });\n        }).catch(err => console.log(err));\n      }\n    };\n\n    this.onChangeGenre = genre => {\n      const {\n        items\n      } = this.state;\n      console.log(items.length);\n    };\n  }\n\n  async componentDidMount() {\n    const {\n      apiKey\n    } = this.state; //initial items\n\n    await axios.get(`https://api.themoviedb.org/3/movie/popular?api_key=${apiKey}&language=en-US&page=1`).then(res => {\n      this.setState(() => {\n        return {\n          items: res.data.results,\n          initialItemsValue: res.data.results\n        };\n      });\n    }).catch(err => console.log(err));\n    console.log(this.state.items);\n  }\n\n  render() {\n    const {\n      items,\n      type\n    } = this.state;\n    return React.createElement(\"div\", {\n      className: style.movies,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }, React.createElement(Title, {\n      titleName: \"Search movies\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }), React.createElement(Filter, {\n      apiKey: this.state.apiKey,\n      onSearch: this.onSearch,\n      onChangeGenre: this.onChangeGenre,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: style[\"items-container\"],\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }, items.map((item, i) => React.createElement(Item, {\n      key: item.id,\n      item: item,\n      type: type,\n      itemNum: i,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }))));\n  }\n\n}\n\nexport default Movies;","map":{"version":3,"sources":["C:/Users/kevin/go/src/github.com/kevsbry/react projects/mophoria/src/components/pages/movies_tvs/Movies.js"],"names":["React","style","axios","Title","Item","Filter","Movies","Component","state","apiKey","items","initialItemsValue","type","onSearch","e","target","value","setState","get","then","res","data","results","catch","err","console","log","onChangeGenre","genre","length","componentDidMount","render","movies","map","item","i","id"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport style from \"./movies_tvs.module.css\";\r\nimport axios from \"axios\";\r\nimport Title from \"../../globalComponents/Title\";\r\nimport Item from \"./Item\";\r\nimport Filter from \"./Filter\";\r\n\r\nclass Movies extends React.Component {\r\n  state = {\r\n    apiKey: \"325d84ad33eb95a5c0fc5427ba3f569a\",\r\n    items: [],\r\n    initialItemsValue: [],\r\n    type: \"movie\"\r\n  };\r\n\r\n  async componentDidMount() {\r\n    const { apiKey } = this.state;\r\n    //initial items\r\n    await axios\r\n      .get(\r\n        `https://api.themoviedb.org/3/movie/popular?api_key=${apiKey}&language=en-US&page=1`\r\n      )\r\n      .then(res => {\r\n        this.setState(() => {\r\n          return {\r\n            items: res.data.results,\r\n            initialItemsValue: res.data.results\r\n          };\r\n        });\r\n      })\r\n      .catch(err => console.log(err));\r\n\r\n    console.log(this.state.items);\r\n  }\r\n\r\n  onSearch = async e => {\r\n    //change items on search\r\n    if (e.target.value === \"\") {\r\n      this.setState(() => {\r\n        return {\r\n          items: [...this.state.initialItemsValue]\r\n        };\r\n      });\r\n    } else {\r\n      await axios\r\n        .get(\r\n          `https://api.themoviedb.org/3/search/movie?api_key=${this.state.apiKey}&language=en-US&page=1&include_adult=false&query=${e.target.value}`\r\n        )\r\n        .then(res => {\r\n          this.setState(() => {\r\n            return {\r\n              items: res.data.results\r\n            };\r\n          });\r\n        })\r\n        .catch(err => console.log(err));\r\n    }\r\n  };\r\n\r\n  onChangeGenre = genre => {\r\n    const { items } = this.state;\r\n\r\n    console.log(items.length);\r\n  };\r\n\r\n  render() {\r\n    const { items, type } = this.state;\r\n\r\n    return (\r\n      <div className={style.movies}>\r\n        <Title titleName=\"Search movies\" />\r\n        <Filter\r\n          apiKey={this.state.apiKey}\r\n          onSearch={this.onSearch}\r\n          onChangeGenre={this.onChangeGenre}\r\n        />\r\n        <div className={style[\"items-container\"]}>\r\n          {items.map((item, i) => (\r\n            <Item key={item.id} item={item} type={type} itemNum={i} />\r\n          ))}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Movies;\r\n"]},"metadata":{},"sourceType":"module"}