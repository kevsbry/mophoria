{"ast":null,"code":"import _regeneratorRuntime from\"/media/kevin/Projects/REACT/mophoria/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/media/kevin/Projects/REACT/mophoria/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/media/kevin/Projects/REACT/mophoria/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/media/kevin/Projects/REACT/mophoria/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/media/kevin/Projects/REACT/mophoria/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/media/kevin/Projects/REACT/mophoria/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/media/kevin/Projects/REACT/mophoria/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from\"react\";import{Link}from\"react-router-dom\";import style from\"./discover.module.css\";import axios from\"axios\";import KeyboardArrowDownIcon from\"@material-ui/icons/KeyboardArrowDown\";var Item=function Item(props){var type=props.type,itemID=props.itemID,title=props.title,vote=props.vote,date=props.date;return React.createElement(\"div\",{className:style.item},React.createElement(\"div\",{style:{width:\"100%\"}},React.createElement(\"div\",{className:style.title},React.createElement(Link,{to:\"/\".concat(type,\"/\").concat(itemID),style:{textDecoration:\"none\",color:\"#c7493a\"}},React.createElement(\"span\",null,title))),React.createElement(\"span\",{className:style.vote},vote,\" / 10\")),React.createElement(\"span\",{className:style.date},date));};export var ItemList=/*#__PURE__*/function(_Component){_inherits(ItemList,_Component);function ItemList(){var _getPrototypeOf2;var _this;_classCallCheck(this,ItemList);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(ItemList)).call.apply(_getPrototypeOf2,[this].concat(args)));_this.onClickArrowDown=function(){if(_this.state.maxItems===10){_this.setState(function(){return{maxItems:20};});_this.arrowDown.current.style.transform=\"rotate(180deg)\";_this.arrowDown.current.style.transition=\"transform 200ms ease-in\";}else if(_this.state.maxItems===20){_this.setState(function(){return{maxItems:10};});_this.arrowDown.current.style.transform=\"rotate(0deg)\";_this.arrowDown.current.style.transition=\"transform 200ms ease-in\";}};_this.state={items:[],maxItems:10};return _this;}_createClass(ItemList,[{key:\"componentDidMount\",value:function(){var _componentDidMount=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var _this2=this;var apiURL;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:apiURL=this.props.apiURL;this.arrowDown=React.createRef();_context.next=4;return axios.get(apiURL).then(function(res){_this2.setState(function(){return{items:res.data.results};});}).catch(function(err){return console.log(err);});case 4:console.log(this.state.items);case 5:case\"end\":return _context.stop();}}},_callee,this);}));function componentDidMount(){return _componentDidMount.apply(this,arguments);}return componentDidMount;}()},{key:\"render\",value:function render(){var _this3=this;var _this$props=this.props,title=_this$props.title,type=_this$props.type;return React.createElement(\"div\",{className:style[\"item-list\"]},React.createElement(\"span\",{className:style[\"item-list-title\"]},title),this.state.items&&this.state.items.map(function(item,i){return i<_this3.state.maxItems&&React.createElement(Item,{key:item.id,type:type,itemID:item.id,title:type===\"movie\"?item.title:item.name,vote:item.vote_average,date:type===\"movie\"?item.release_date:item.first_air_date});}),React.createElement(KeyboardArrowDownIcon,{ref:this.arrowDown,onClick:this.onClickArrowDown,className:style[\"arrow-down\"],fontSize:\"large\"}));}}]);return ItemList;}(Component);export default ItemList;","map":{"version":3,"sources":["/media/kevin/Projects/REACT/mophoria/src/components/pages/discover/ItemList.js"],"names":["React","Component","Link","style","axios","KeyboardArrowDownIcon","Item","props","type","itemID","title","vote","date","item","width","textDecoration","color","ItemList","onClickArrowDown","state","maxItems","setState","arrowDown","current","transform","transition","items","apiURL","createRef","get","then","res","data","results","catch","err","console","log","map","i","id","name","vote_average","release_date","first_air_date"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport style from \"./discover.module.css\";\r\nimport axios from \"axios\";\r\nimport KeyboardArrowDownIcon from \"@material-ui/icons/KeyboardArrowDown\";\r\n\r\nconst Item = props => {\r\n  const { type, itemID, title, vote, date } = props;\r\n\r\n  return (\r\n    <div className={style.item}>\r\n      <div style={{ width: \"100%\" }}>\r\n        <div className={style.title}>\r\n          <Link\r\n            to={`/${type}/${itemID}`}\r\n            style={{ textDecoration: \"none\", color: \"#c7493a\" }}\r\n          >\r\n            <span>{title}</span>\r\n          </Link>\r\n        </div>\r\n        <span className={style.vote}>{vote} / 10</span>\r\n      </div>\r\n      <span className={style.date}>{date}</span>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport class ItemList extends Component {\r\n  onClickArrowDown = () => {\r\n    if (this.state.maxItems === 10) {\r\n      this.setState(() => {\r\n        return {\r\n          maxItems: 20\r\n        };\r\n      });\r\n      this.arrowDown.current.style.transform = \"rotate(180deg)\";\r\n      this.arrowDown.current.style.transition = \"transform 200ms ease-in\";\r\n    } else if (this.state.maxItems === 20) {\r\n      this.setState(() => {\r\n        return {\r\n          maxItems: 10\r\n        };\r\n      });\r\n      this.arrowDown.current.style.transform = \"rotate(0deg)\";\r\n      this.arrowDown.current.style.transition = \"transform 200ms ease-in\";\r\n    }\r\n  };\r\n\r\n  state = {\r\n    items: [],\r\n    maxItems: 10\r\n  };\r\n\r\n  async componentDidMount() {\r\n    const { apiURL } = this.props;\r\n    this.arrowDown = React.createRef();\r\n\r\n    await axios\r\n      .get(apiURL)\r\n      .then(res => {\r\n        this.setState(() => {\r\n          return { items: res.data.results };\r\n        });\r\n      })\r\n      .catch(err => console.log(err));\r\n\r\n    console.log(this.state.items);\r\n  }\r\n\r\n  render() {\r\n    const { title, type } = this.props;\r\n    return (\r\n      <div className={style[\"item-list\"]}>\r\n        <span className={style[\"item-list-title\"]}>{title}</span>\r\n        {this.state.items &&\r\n          this.state.items.map(\r\n            (item, i) =>\r\n              i < this.state.maxItems && (\r\n                <Item\r\n                  key={item.id}\r\n                  type={type}\r\n                  itemID={item.id}\r\n                  title={type === \"movie\" ? item.title : item.name}\r\n                  vote={item.vote_average}\r\n                  date={\r\n                    type === \"movie\" ? item.release_date : item.first_air_date\r\n                  }\r\n                />\r\n              )\r\n          )}\r\n        <KeyboardArrowDownIcon\r\n          ref={this.arrowDown}\r\n          onClick={this.onClickArrowDown}\r\n          className={style[\"arrow-down\"]}\r\n          fontSize=\"large\"\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ItemList;\r\n"]},"metadata":{},"sourceType":"module"}